["TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 1 of 86 \n \nPage 1 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n \n \n \n \n \n \n \n \nPLC Functional Design Specification \n \nE354086-00000-271-078-0003 \n \nREV. 02 \n \n \n \n \n \n \n \n \n \n \n \n \n \nDOCUMENT APPROVAL PROCESS \nNAME POSITION/MEETING NO. SIGNATURE DATE \nOriginator: Nitin Vithal PLC Lead Engineer  14-09-2019 \nApprover: Paulo De Sousa Gomes Project Manager  14-08-2019 \nOriginal date: 12-07-2018  \nEffective date: 10-11-2021", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 2 of 86 \n \nPage 2 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nDOCUMENT CHANGE HISTORY: \nThe owner of this document is responsible for the revision and control of the document, including \nupdating of the table below, which contains the history of the document with details of each revision . \nDate Previous \nRev No. \nNew \nRev No. \nDetails of Revision \n10.11.2021 0B 02 As Built", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 3 of 86 \n \nPage 3 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nTABLE OF CONTENTS \n1 INTRODUCTION ..................................................................................................................... 7 \n1.1 Purpose ......................................................................................................................... 7 \n1.2 Scope ............................................................................................................................ 7", "1.2.1 Requirements Included ............................................................................................ 7 \n1.2.2 Requirements Excluded ........................................................................................... 7 \n1.3 Terms and Definitions ..................................................................................................... 8 \n1.3.1 Abbreviations .......................................................................................................... 8 \n1.3.2 Definitions .............................................................................................................. 9 \n2 APPLICABLE DOCUMENTS ..................................................................................................... 13", "2.1 TPL Applicable Specifications and Standards ................................................................... 13 \n2.2 Other Applicable Specifications and Standards ................................................................ 14 \n2.3 Reference Documentation ............................................................................................. 15 \n3 PLC CONFIGURATION ........................................................................................................... 17 \n3.1 PLC System Overview ................................................................................................... 17 \n3.2 Hot Standby Configuration ............................................................................................ 18", "3.2.1 M580 Hot Standby Data ......................................................................................... 18 \n3.2.2 PLC Backplane ...................................................................................................... 19 \n3.2.3 Rack Power Supplies.............................................................................................. 20 \n3.2.4 CPU - BMEH584040 ............................................................................................... 20 \n3.2.4.1 CPU Module Front and Back Views .................................................................. 20 \n3.2.4.2 CPU Firmware Mismatch ................................................................................. 21", "3.2.4.2 CPU Firmware Mismatch ................................................................................. 21 \n3.2.4.3 Application Mismatch ...................................................................................... 21 \n3.2.4.4 SD Memory Card ............................................................................................ 22 \n3.2.5 BMENOC0321 Control Network Module ................................................................... 22 \n3.2.6 BMXNRP0201 Fibre Converter Module ..................................................................... 23 \n3.2.7 Local Rack Modules ............................................................................................... 24", "3.2.8 Remote Racks \u2013 X80 IO ......................................................................................... 25 \n3.2.8.1 BMECRA31210 Communication adapter ........................................................... 25 \n3.2.9 Switchover Causes ................................................................................................ 26 \n3.2.10 Switchover Execution Time .................................................................................... 27 \n3.2.11 Switchover effect on the Main IP Address Assignments ............................................ 27 \n3.2.12 Switchover Effect on Remote Outputs ..................................................................... 27", "3.2.12 Switchover Effect on Remote Outputs ..................................................................... 27 \n3.2.13 Change of Configuration on the Fly (CCOTF) ........................................................... 28 \n3.2.14 Diagnostics ........................................................................................................... 28 \n3.2.14.1 IO Module LED Diagnostics ............................................................................. 28 \n3.2.14.2 CPU LED Panel ............................................................................................... 29 \n3.2.14.3 Diagnostics via Unity Pro ................................................................................ 31", "3.2.14.3 Diagnostics via Unity Pro ................................................................................ 31 \n3.2.14.4 Remote diagnostics ........................................................................................ 31 \n3.2.14.5 PLC Diagnostics sent to SCADA ....................................................................... 31", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 4 of 86 \n \nPage 4 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.3 Performance ................................................................................................................. 31 \n3.3.1 Controller Performance .......................................................................................... 31 \n3.3.2 Application Response Time .................................................................................... 32", "3.3.3 Availability ............................................................................................................ 33 \n3.4 System Architecture ...................................................................................................... 34 \n3.4.1 Ring Topology with HSBY....................................................................................... 34 \n3.4.2 On-Site Engineering Stations .................................................................................. 35 \n3.4.3 X80 Remote IO ..................................................................................................... 36 \n3.4.3.1 IO Assignment and Grouping Philosophy ......................................................... 36", "3.4.3.1 IO Assignment and Grouping Philosophy ......................................................... 36 \n3.4.3.2 Digital Inputs ................................................................................................. 36 \n3.4.3.2.1 Specifications ................................................................................................ 37 \n3.4.3.2.2 Module Density ............................................................................................. 39 \n3.4.3.2.3 Wiring connections ........................................................................................ 39 \n3.4.3.2.4 TELEFAST ABE7 Terminal Blocks General Description ...................................... 40", "3.4.3.2.4 TELEFAST ABE7 Terminal Blocks General Description ...................................... 40 \n3.4.3.2.5 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) ................................ 41 \n3.4.3.3 Digital Outputs ............................................................................................... 42 \n3.4.3.3.1 Specifications ................................................................................................ 44 \n3.4.3.3.2 Module Density ............................................................................................. 45 \n3.4.3.3.3 Wiring connections ........................................................................................ 46", "3.4.3.3.4 Telefast ABE7 Terminal Blocks \u2013 ABE-7P16T210 .............................................. 47 \n3.4.3.3.5 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) ................................ 48 \n3.4.3.4 High Speed Counter module ........................................................................... 48 \n3.4.3.4.1 Specifications ................................................................................................ 49 \n3.4.3.4.2 Module Density ............................................................................................. 49 \n3.4.3.4.3 Wiring connections ........................................................................................ 50", "3.4.3.4.4 Removable Terminal Blocks ........................................................................... 50 \n3.4.3.4.5 Telefast ABE7 Terminal Blocks ....................................................................... 50 \n3.4.3.5 Analogue Inputs ............................................................................................ 51 \n3.4.3.5.1 Specifications ................................................................................................ 51 \n3.4.3.5.2 Module Density ............................................................................................. 52 \n3.4.3.5.3 Wiring connections ........................................................................................ 52", "3.4.3.5.4 Telefast ABE7 Terminal Blocks ....................................................................... 53 \n3.4.3.5.5 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) ................................ 53 \n3.4.3.6 Analogue Outputs .......................................................................................... 53 \n3.4.3.6.1 Specifications ................................................................................................ 53 \n3.4.3.6.2 Module Density ............................................................................................. 54", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 5 of 86 \n \nPage 5 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.6.3 Wiring connections ........................................................................................ 54 \n3.4.3.6.3.1 Telefast ABE7 Terminal Blocks ................................................................. 55 \n3.4.3.6.3.2 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) .......................... 55 \n3.4.4 Fynnlands Site....................................................................................................... 55", "3.4.5 Field Power Supplies .............................................................................................. 56 \n3.4.6 Galvanic Isolators .................................................................................................. 58 \n3.4.7 Panel Specifications ............................................................................................... 58 \n3.4.8 PLC & LAN Architectures ........................................................................................ 58 \n3.4.8.1 Typical Pump Station Architecture ................................................................... 58 \n3.4.8.2 Typical Booster Station Architecture ................................................................ 58", "3.4.8.2 Typical Booster Station Architecture ................................................................ 58 \n3.4.8.3 Fynnlands Station Architecture ........................................................................ 58 \n3.4.8.4 Coalbrook Architecture ................................................................................... 58 \n3.4.9 Communication and System Interfaces ................................................................... 59 \n3.4.9.1 Interfaces ...................................................................................................... 59 \n3.4.9.1.1 Interface 1: OASyS SCADA............................................................................. 59", "3.4.9.1.1 Interface 1: OASyS SCADA............................................................................. 59 \n3.4.9.1.2 Interface 3: Metering ..................................................................................... 59 \n3.4.9.1.3 Interface 4: Fire and Gas ............................................................................... 59 \n3.4.9.1.4 Interface 5: ABB ACS1000 MV Variable Speed Drive ........................................ 59 \n3.4.9.1.5 Interface 6: Bentley Nevada Machine Monitoring System ................................. 60 \n3.4.9.1.6 Interface 7: Tank Gauging System Heads ....................................................... 60 \n3.4.9.1.7 Interface 8: UPS Interface ............................................................................. 60", "3.4.9.1.7 Interface 8: UPS Interface ............................................................................. 60 \n3.4.9.1.8 Interface 9: Safety Instrumented Systems ...................................................... 60 \n3.4.9.2 Profibus Remote Master ................................................................................. 61 \n3.4.9.3 Modbus Serial ................................................................................................ 62 \n3.4.10 Time Synchronization ............................................................................................ 63 \n4 SOFTWARE .......................................................................................................................... 64", "4.1 Unity Pro ...................................................................................................................... 64 \n4.1.1 Programming Platform ........................................................................................... 64 \n4.1.2 Identification Standards ......................................................................................... 65 \n4.1.2.1 Project Name ................................................................................................. 65 \n4.1.2.2 Station Revision Management. ........................................................................ 65 \n4.1.2.3 Remote Rack Labelling ................................................................................... 66", "4.1.2.3 Remote Rack Labelling ................................................................................... 66 \n4.1.2.3.1 Panel Numbers are labelled as follows: ........................................................... 66 \n4.1.2.3.2 PLC CPU Hot/Standby racks ........................................................................... 66 \n4.1.2.3.3 Remote IO racks ........................................................................................... 66 \n4.1.3 Software Naming Standard .................................................................................... 67 \n4.1.4 Unity Pro Programming Languages ......................................................................... 67", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 6 of 86 \n \nPage 6 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4.1.4.1 Function Block Diagram .................................................................................. 68 \n4.1.4.2 Structured Text .............................................................................................. 69 \n4.1.4.3 Sequential Function Chart (SFC) ..................................................................... 69 \n4.1.5 Software Coding Standards .................................................................................... 70", "4.1.6 Derived Function Blocks ......................................................................................... 70 \n4.1.6.1 Derived Function block construction ................................................................ 72 \n4.1.6.2 Function Block Interface ................................................................................. 74 \n4.1.7 Derived Data Types ............................................................................................... 75 \n4.1.8 Libraries ............................................................................................................... 76 \n4.1.8.1 Unity Pro Function Block Libraries ................................................................... 76", "4.1.8.1 Unity Pro Function Block Libraries ................................................................... 76 \n4.1.8.2 Derived Libraries ............................................................................................ 77 \n4.1.8.3 Management of Libraries ................................................................................ 79 \n4.1.9 Security ................................................................................................................ 79 \n4.2 Unity Simulator ............................................................................................................. 81 \n4.2.1 Software Testing ................................................................................................... 81", "4.3 Unity Loader ................................................................................................................. 81 \n4.4 Version Control ............................................................................................................. 82 \n4.4.1 Application Version ................................................................................................ 82 \n4.4.2 Library Version ...................................................................................................... 84 \n4.4.3 Standard Block Versions ........................................................................................ 85 \n4.4.4 Derived Function Block Version .............................................................................. 85", "4.4.4 Derived Function Block Version .............................................................................. 85 \n4.4.5 Unity Dif Software Tool .......................................................................................... 86", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 7 of 86 \n \nPage 7 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n1 INTRODUCTION \nThis document details the Functional Design Specification (FDS) for the PLC portion of the \nProcess Control System (PCS) solution for the PCS Upgrade Project. The purpose of this \ndocument is to present a functional description of the systems and products to be supplied in \ncompliance with the project Works Information and client User Requirements Specifications.  \nModicon M580 ePAC (Ethernet programmable automation controllers) PLCs will be used, in", "Modicon M580 ePAC (Ethernet programmable automation controllers) PLCs will be used, in \nhigh-availability Hot Standby (HSBY) configurations. Field signals will be interfaced to the PLC \nvia remote IO Racks, using the X80 range of IO modules. \nInterface to the OASyS SCADA System will be Modbus TCP communications. \nThis document is considered a living document and will be updated through the project to \n'As-Built' at the end of the project. \n1.1 Purpose \nThe purpose of this specification is to describe the configuration and features of the Modicon \nM580 HSBY PLC and related PLC hardware and software. The configuration laid out in this \nspecification forms the basis of Engineering design in the PCS Upgrade Project. \n1.2 Scope \n1.2.1 Requirements Included \nThis document shall cover:", "1.2 Scope \n1.2.1 Requirements Included \nThis document shall cover: \n\u2022 Modicon M580 features and operation \n\u2022 Configuration for the PCS Upgrade Project. \n\u2022 Functionality of the system and each of the related sub-systems \n\u2022 Details of all internal and external communication interfaces \n\u2022 Details of Software and Hardware component make-up identification and details \nof all interfaces  \n\u2022 General software configuration principles \n1.2.2 Requirements Excluded \nThis specification excludes the following Automation Systems, which are detailed in other \nproject-related Functional Design Specifications: \n\u2022 OASyS SCADA, including the Liquid Management Suite and Replay functionality \n\u2022 Sim-Suite Leak Detection System \n\u2022 HMI Trainer System \n\u2022 Per Site Software Configurations", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 8 of 86 \n \nPage 8 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n1.3 Terms and Definitions \n1.3.1 Abbreviations \nACDB Alarm Configuration Database \nAPI American Petroleum Institute \nAS PL723 Automation Standard \nASCII American Standard Code for Information Interchange \nCCOTF Change of Configuration on The Fly \nCO Co-ordinating Officer \nDCS  Distributed Control System  \nDDDT Device Derived Data Type \nDDF Detected Dangerous Failure \nDDS  Detailed Design Specification  \nDDT Derived Data Type \nDIE Diesel \nDOL Direct Online", "DDS  Detailed Design Specification  \nDDT Derived Data Type \nDIE Diesel \nDOL Direct Online \nDTM Device Type Manager \nECP Effluent Control Panel \nEDS Engineering Design Specification \nEIO Ethernet (Remote) IO \nePAC Ethernet Programmable Automation Controller \nES Engineering System \nFAST PLC Fast Task which runs periodically at a pre-determined rate measured \nin ms \nF&G Fire and Gas \nFBD Function Block Diagram  \nFC Flow Computer \nFDS  Functional Design Specification  \nFDT Field Device Type \nFFB Collective term for EF, EFB and DFB \nFRS  Functional Requirements Specification  \nHART Highway Addressable Remote Transducer \nHMI  Human Machine Interface  \nHSBY Hot Standby \nI/O Input/output \nIP Industrial Protocol \nIS Intrinsically Safe \nLAN Local Area Network", "HSBY Hot Standby \nI/O Input/output \nIP Industrial Protocol \nIS Intrinsically Safe \nLAN Local Area Network \nMAST PLC Master Task  which runs periodically at a pre -determined rate \nmeasured in ms \nMCC Master Control Centre \nMDS Metering System \nMIS Manufacturing Information System \nMMS Machine Monitoring System", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 9 of 86 \n \nPage 9 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nMoC Mode of Control \nMoO Mode of Operation \nMTBF Mean Time Between Failure \nMTTF Mean Time To Failure \nMTTR Mean Time To Replacement \nMV Medium Voltage \nNOC National Operations Centre \nOPC OLE for Process Control \nOS Operating System \nP&ID Piping and Instrumentation Drawing \nPCS Process Control System \nPFD  Process Flow Diagram  \nPID  Proportional, Integral & Derivative Controller  \nPLC Programmable Logic Controller \nPLC  Programmable Logic Controller", "PLC Programmable Logic Controller \nPLC  Programmable Logic Controller  \nRIO Remote Input/Outputs \nRPI Request Packet Interval \nRSTP Rapid Spanning Tree Protocol \nRTU Remote Terminal Unit \nSCADA Supervisory, Control and Data Acquisition  \nSCC Secondary Control Centre \nSFC Sequential Flow Chart \nSIF Safety Instrumented Function \nSIL Safety Integrity Level \nSIS Safety Instrumented System \nSNMP Simple Network Management Protocol \nSO Station Operator \nST Structured Text \nTBA To be Advised \nTBC To be Confirmed \nTBD To be Defined \nTCP Transmission Control Protocol \nTGS Tank Gauging System \nURS  User Requirements Specification \nVSD Variable Speed Drive  \nWAN Wide Area Network \nTable 1-1: Abbreviations \n1.3.2 Definitions \nAdapter Ethernet/IP device the Publishes data at a set RPI(Request Packet", "Table 1-1: Abbreviations \n1.3.2 Definitions \nAdapter Ethernet/IP device the Publishes data at a set RPI(Request Packet \nInterval) and sent as multicast messages to Scanner Devices. \nAdvanced Database \nEditor (ADE) \nAn OASyS DNA support and configuration program for editing the \nreal-time database.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 10 of 86 \n \nPage 10 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nApplication Software The software written specifically to perform user requirements for an \nindividual plant when standard software packages cannot be \nconfigured to meet the requirements. Application software works \nwith the standard operating software and it does not modify any  \nstandard software \nArchive Saving measured values and messages in the operator station to \nhistory so the data can be called up over a long period of time", "history so the data can be called up over a long period of time \nAvailability The probability that a system will perform its designed function when \nrequired to do so is expressed as the fraction (or percentage) of time \na system or individual module remains on -line and performs as \nspecified during an observation period. It is calculated as follows: A \n= MTTF/MTBF or A = MTTF/(MTTF + MTTR) \nBlocks Blocks are separate p arts of a user control software configuration \ndistinguished by their function, structure, and purpose \nCFC Continuous Function Chart is a high -level graphical language using \nfunction blocks for configuring continuous control systems \nControl Panel \nA standard graphic element that represents, for example, an", "Control Panel \nA standard graphic element that represents, for example, an \nanalogue controller instrument, a hardwired push -button, or a \nswitch, allowing operator monitoring and control of the device , and \ncomprises on one RTDB object. \nDisplay Graphics which will show the information coming from the RealTime \ndatabase statically or dynamically. \nEngineering Server \n(ES) \nUsed for preparation and distribution of software binaries, displays \nand database changes to the SCADA servers. \nFaceplate \nA standard graphic element that represents, for example, an \nanalogue controller instrument, a hardwired push -button, or a \nswitch, allowing operator monitoring and control of the device , and \ncomprises of multiple RTDB objects.", "switch, allowing operator monitoring and control of the device , and \ncomprises of multiple RTDB objects. \nFault Tolerance The property of a s ystem which permits it to carry out its assigned \nfunction even in the presence of one or more faults in its hardware \nor software components. Fault tolerance is to be achieved \nautomatically without any user intervention \nFunction Block A control bock as defined in IEC 1131-3. See also Block \nHMI The graphical interface program for allowing an operator to interact \nwith and control a process \nInstance A copy of a function block, which is used again in the control \nconfiguration for a similar application \nLadder Logic (LAD) Graphical representation of the automation task using relay symbols \ncomplying with DIN 19239", "Ladder Logic (LAD) Graphical representation of the automation task using relay symbols \ncomplying with DIN 19239 \nMTBF MTBF is the expected time between failures of a system including \ntime to repair. It is derived in its simplest form as: MTBF = MTTF + \nMTTR \nMTTF MTTF is the expected time to failure of a system in a population of \nidentical systems", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 11 of 86 \n \nPage 11 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nMTTR MTTR is the statistical average of time taken to identify and repair a \nfault (including diagnostics) \nMode Control block operational condition, such as manual, automatic, or \ncascade \nMonitor Physical device used to show displays. \nOPC Software applications which allow bi -directional data flow between \ntwo separate applications. These applications may be running on the \nsame or separate se rvers. OPC refers to the complete OPC \nspecification \nOperator \nWorkstation", "same or separate se rvers. OPC refers to the complete OPC \nspecification \nOperator \nWorkstation \nElectronic equipment on which the HMI resides, including, at a \nminimum, PC workstation, a monitor, keyboard, and pointing device \nused by an operator to monitor and control his assigned process or \nmanufacturing units \nOperator / Controller One who exercises central surveillance and control of the field using \nSCADA. \nPersonal Computer \n(PC) \nA workstation or server, typically running MS -Windows when \nreferred to in this way. \nPLC Programmable Logic Controller, used for discrete and continuous \ncontrol in processing and manufacturing plants \nPoint A process variable derived from an input signal or calculated in a \nprocess calculation", "Point A process variable derived from an input signal or calculated in a \nprocess calculation \nProcess Object A collection of variables and param eters that performs a control \nfunction (e.g. motor, block valve, PID Controller) which may consist \nof more than one I/O point \nPlug and Play The ability of hardware equipment to automatically identify itself to \nthe system. When the equipment is powered up it is automatically \nassigned a unique identity without the need to set any dipswitches \nReal-time The inherent property of a system to distribute data such that the \nusers of the data always have the most current data at all times.  \nReliability The probability that when operating under stated environmental \nconditions, the system will perform continuous ly, as specified, over", "conditions, the system will perform continuous ly, as specified, over \na specific time interval \nRedundant A system/subsystem with two modules that provides automatic \nswitchover to a backup in the event of a failure, without loss of a \nsystem function \nScanner \nEthernet/IP \u2013 A scanner device opens connections and initiates data \ntransfers. This device is typically the subscriber of data. (See Adapter \nfor Publisher) \nScreen Part of the monitor which is shown to arrange displays. \nSequential Function \nChart (SFC) \nSequential Function Charts are a high-level graphical configuration \nlanguage for sequential control applications \nStatement List (STL) Statement List is a textual programming language resembling \nmachine code and complying with IEC 1131-3", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 12 of 86 \n \nPage 12 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nStructured Control \nLanguage (SCL) \nA high-level language complying with IEC 1131 -3 and resembling \nPascal for programming complex or custom logic tasks within the \ncontroller \nSystem Bus The network used for communication between controllers and HMI \nservers \nSystem Software The software components that are required to make the system \nfunctional and fit for purpose. System software shall include any \nfirmware, operating software and tools that are supplied as standard", "firmware, operating software and tools that are supplied as standard \nitems (for example configuration software, operating system and \nhuman interface configuration software). Typically, system software \nis configured to meet user requirements \nUser Requirements Those requirements that describe what functions the system must \nperform to achieve the objectives of operating the physical p lant. \nTypically, the system is configured to meet user requirements \nWorks \nPCS Upgrade Project which includes design, engineering, supply, \ninstallation, commissioning and handover of the Process Control, \nIntegrated Custody Metering and Pipeline Monitoring Systems and \nDeployment to all Crude Oil Pipeline Stations \u2013 Main Automation \nContract  \nTable 1-2: Definitions", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 13 of 86 \n \nPage 13 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n2 APPLICABLE DOCUMENTS \nAll documents of the exact revision cited in the Applicable Documents form part of this \nspecification to the extent specified. In the event of conflict between the text of this \nspecification and the documents invoked herein, the text of this specification shall take \nprecedence.  \nHowever, nothing in this specification supersedes applicable laws and regulations.  \n2.1 TPL Applicable Specifications and Standards \nNo. and Title Doc. No. Rev.", "2.1 TPL Applicable Specifications and Standards \nNo. and Title Doc. No. Rev. \n[1] PCS Control Module Specification E354086-00000-\n271-078-0005 \nLatest \n[2] SCADA Functional Design Specification E354086-00000-\n271-078-0018 \nLatest \n[3] Metering FDS E354086-00000-\n271-078-0020 \nLatest \n[4] SCADA Configuration Plan E354086-00000-\n271-078-0003 \nLatest \n[5] SCADA/PLC Communication Plan E354086-00000-\n271-078-0012 \nLatest \n[6] LDS Functional Design Specification E354086-00000-\n271-078-0007 \nLatest \n[7] LAN Network Standard E354086-00000-\n271-078-0002 \nLatest \n[8] HMI Style Guide E354086-00000-\n271-078-0006 \nLatest \n[9] PCS SCADA System Architecture E354086-00000-\n271-256-0002 \nLatest \n[10] PLC LAN Architecture Fynnlands Intake Station E354086-00001-\n271-256-0001 \nLatest", "271-256-0002 \nLatest \n[10] PLC LAN Architecture Fynnlands Intake Station E354086-00001-\n271-256-0001 \nLatest \n[11] PLC LAN Architecture Typical Pump Station E354086-00000-\n271-256-0006 \nLatest \n[12] PLC LAN Architecture Typical Booster Station E354086-00000-\n271-256-0005 \nLatest \n[13] PLC LAN Architecture Coalbrook E354086-00017-\n271-256-0001 \nLatest \n[14] PCS Performance Specification E354086-00000-\n271-078-0014 \nLatest \n[15] Software Configuration Management Plan E354086-00000-\n271-050-0002 \nLatest", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 14 of 86 \n \nPage 14 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n[16] Software Lifecycle Plan E354086-00000-\n130-050-0001 \nLatest \n[17] Process Control System URS  TPL-TECH-I-C-\nSPEC-012 \n03 \n[18] PCS Control Module Standard TPL-TECH-I-C-\nSPEC-013 \n01 \n[19] Integrated Metering System URS TPL-TECH-M-\nSPEC-011B \n04 \n[20] Leak Detection System User Requirement \nSpecification \nH354086-\n00000-270-078-\n0004 \n0 \n[21] Process Control System Automation Standard PL723 04 \n[22] Process Control Network Standard PL703 2.0", "0004 \n0 \n[21] Process Control System Automation Standard PL723 04 \n[22] Process Control Network Standard PL703 2.0 \n[23] S600 Floboss Stream FDS TPL-TECH-I-M-\nSPEC-016 [4] \n04 \n[24] S600 Floboss Prover FDS TPL-TECH-I-M-\nSPEC-017 \n04 \n[25] TPL Product Codes and Colours Specification 2684358-P-SC0-\nCS-SP-001(00) \n00 \n[26] Alarm Philosophy H354086-\n00000-270-080-\n0001 [B] \nB \n[27] PLC System Architecture Failure and Recovery \nAnalysis \nH354086-\n00000-271-078-\n0016 \nLatest \n[28] PCS Naming Standard E354086-00000-\n271-050-0006 \nLatest \n[29] PLC Coding Standard E354086-00000-\n271-050-0004 \nLatest \n[30] Typical PLC Panel General Arrangement E354086-00000-\n271-270-0001 \nLatest \n[31] Typical PCS Server Panel: All Pump Stations E354086-00000-\n271-270-0005 \n \nLatest", "271-270-0001 \nLatest \n[31] Typical PCS Server Panel: All Pump Stations E354086-00000-\n271-270-0005 \n \nLatest \n \n2.2 Other Applicable Specifications and Standards \nThe following national and international standards are required to be complied with and shall \nbe read in conjunction with this Specification. \nNo. and Title Doc. No. Rev.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 15 of 86 \n \nPage 15 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n[32] Standard for Information Technology \u2013 Software \nLifecycle Processes \nIEEE 12207.0 1996 \n[33] Electromagnetic compatibility (EMC) - Part 4 -2: \nTesting and measurement techniques - Electrostatic \ndischarge immunity test \nIEC 61000-4-2 \n(2001-04) \n2001-04 \n[34] Electromagnetic compatibility (EMC) - Part 4 -3: \nTesting and measurement techniques - Electrostatic \ndischarge immunity test \nIEC 61000-4-3 \n(2002-03) \n2002-03", "Testing and measurement techniques - Electrostatic \ndischarge immunity test \nIEC 61000-4-3 \n(2002-03) \n2002-03 \n[35] Electromagnetic compatibility (EMC) - Part 4: Testing \nand measurement techniques - Electrical fast \ntransient/burst immunity test \nIEC 61000-4-4 \n(1995-01) \n1995-01 \n[36] Programmable controllers - Part 3: Programming \nlanguages \nIEC 61131-3 \n(1993-03) \n1993-03 \n[37] Drawing Standards PL100 03 \n[38] Plant & Equipment Tag Numbering Standards PL101 03 \n[39] Equipment, Instrument & Electrical Symbology \nStandards \nPL102 01 \n \n2.3 Reference Documentation \nThe documents included in this section do not form part of the specification, but are included \nfor background and context.  Sections and information used within this document have been", "for background and context.  Sections and information used within this document have been \nused in full or in part from these documents of Schneider Electric. \nNo. Doc. No. Rev. \n[40] Modicon X80 Racks and Power Supplies Hardware \nReference Manual \nEIO000002626 \n09/2017 \n09/2017 \n[41] Modicon M580 BMENOC0321 Control Network \nModule Installation and Configuration Guide \nNVE24232.01 02/2017 \n[42] Modicon M580 Hot Standby System planning guide \nfor frequently used Architectures \nNHA58880 \n09/2017 \n09/2917 \n[43] Modicon M580 Hardware Reference Manual EIO0000001578.00 10/2013 \n[44] Modicon M340 Using Unity Pro \u2013 Discrete \nInput/Output Modules User Manual \n35012474.04 05/2010 \n[45] Modicon M340 using Unity Pro \u2013 Counting Module \nBMXEHC0800 User Manual \nEIO000000318.03 07/2012", "[45] Modicon M340 using Unity Pro \u2013 Counting Module \nBMXEHC0800 User Manual \nEIO000000318.03 07/2012 \n[46] Modicon M340 with Unity Pro \u2013 Analog input/output \nmodules User manual \n3501197.07 07/2012 \n[47] Profibus Remote Master \u2013 User Manual S1A64489.00 04/2010 \n[48] Unity Pro Languages and Program Structure \nReference Manual \n3500614404 06/2006 \n[49] Unity Loader V12.0 Readme  V12.0", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 16 of 86 \n \nPage 16 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n[50] Unity Dif \u2013 a SoCollaborative Software User Manual EIO0000001720.00 11/2013 \n[51]  Power Supplies, Phaseo ABL7, ABL 8 Catalog June 2018  \n[52] Modicon M580 Remote IO Modules Installation and \nConfiguration Guide \nEIO0000001584.02 09/2014 \n[53] PlantStruxure General Purpose Library for Unity \u2013 \nProcess Components User Guide \nEIO0000002093.06 01/2018 \n[54] TVDA- \u201cHow can I implement an M580 Redundant \nSystem?\u201d V2 \n- V2 2017", "EIO0000002093.06 01/2018 \n[54] TVDA- \u201cHow can I implement an M580 Redundant \nSystem?\u201d V2 \n- V2 2017 \n[55] BMXNRP0200/0201 Fiber Convert er module User \nGuide \nEIO0000001108.00 07/2012", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 17 of 86 \n \nPage 17 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3 PLC CONFIGURATION  \n3.1 PLC System Overview \nThe Modicon M580 Automation platform is the current flagship model PLC offering from \nSchneider Electric. The M580 allows two types of architectures \u2013 standard application and \nHigh-Availability applications. Standard applications comprise of a single BMEP58xxxx \nprocessor configuration. \nThe High Availability configuration is the choice of configuration for the PCS Upgrade Project", "The High Availability configuration is the choice of configuration for the PCS Upgrade Project \nsince downtime cannot be tolerated. This configuration delivers high availability through \nredundancy. (The availability calculations are documented in the PLC System Architecture \nFailure and Recovery Analysis document [27]). Two backplanes are configured with identical \nhardware and software.  \nThe racks which house the Processors are known as the Local Racks. Due to the redundant \nnature of this configuration, the racks are perceived and operated as one. At any given \nmoment, only one of the CPUs are executing program logic and servicing remote/distributed \nIO at a time. This is known as the Primary CPU. The other CPU is known as the Standby CPU.", "IO at a time. This is known as the Primary CPU. The other CPU is known as the Standby CPU. \nBefore each scan, the state RAM (the IO image and current values of all of the registers \ndefined in the PLC) of the Primary CPU is copied to the Standby CPU via a dedicated Ethernet \nLink. This includes date and time data. This means that the Standby CPU always has current \nsystem values and is ready to assume control within one scan if the primary CPU stops \ncommunicating. Upon specific events, which are described in Section 3.2.9, the Primary and \nStandby CPUs switch roles i.e. Standby assumes the role of Primary in executing program \nlogic and servicing RIO/DIO.  \nIt is not possible to allocate IO to a local Rack on a HSBY configuration. IO is allocated in", "It is not possible to allocate IO to a local Rack on a HSBY configuration. IO is allocated in \nRemote racks which communicate to the local rack via Ethernet. IO on the M580 range of \nPLC is generically and collectively referred to as X80 IO.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 18 of 86 \n \nPage 18 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.2 Hot Standby Configuration \n \nFigure 3-1: Hot Standby Local Racks  \n3.2.1 M580 Hot Standby Data \nPeriodic Data Exchanges \nThe HSBY CPUs perform two periodic data exchanges: \n\u2022 Before each MAST cycle, the primary CPU transmits to the standby CPU application \nvariables, system status and IO data. \n\u2022 Periodically, both CPUs exchange the contents of the T_M_ECPU_HSBY DDT. This \nDerived Data Type is the exclusive interface between the M580 HSBY system and the", "Derived Data Type is the exclusive interface between the M580 HSBY system and the \napplication running in the CPU. \nThe T_M_ECPU_HSBY DDT presents three distinct sections: \n\u2022 LOCAL_HSBY_STS: Provides information about the local PLC. Data is both auto-\ngenerated by the HSBY system and provided by the application. This data is \nexchanged with the remote PLC. \n\u2022 REMOTE_HSBY_STS: Provides information about the remote PLC and contains the \nimage of the last received exchange from the counterpart PLC. The validity of this \ninformation is represented by the REMOTE_STS_VALID flag in the common part of \nthis DDT. NOTE: The structure of both the LOCAL_HSBY_STS and \nREMOTE_HSBY_STS sections are determined by the HSBY_STS_T data type and are", "REMOTE_HSBY_STS sections are determined by the HSBY_STS_T data type and are \ntherefore identical. Each is used to describe data relating to one of the two HSBY \nPLCs. \n\u2022 A common part of the DDT: Consists of several objects, including status data system \ncontrol objects and command objects \no Status data is provided by the HSBY system as a result of diagnostic \nchecking. \no System control objects enable you to define and control system behaviour.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 19 of 86 \n \nPage 19 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \no Command data objects include executable commands that can be used to \nmodify system state. \nRefer to the Modicon M580 Hardware Reference Manual [43] for specific details of the \nT_M_ECPU_HSBY DDT. \nData Transmitted Each MAST Cycle \nBefore each MAST task, the primary CPU transmits data to the standby CPU in two ways. The \nprimary CPU uses: \n\u2022 The Hot Standby link to send application variables, system status and IO data.", "primary CPU uses: \n\u2022 The Hot Standby link to send application variables, system status and IO data. \n\u2022 The Ethernet RIO link to send application variables and system status. \nWhen communication is lost on the Hot Standby link, the standby CPU does not receive \nupdated IO data and application variables. If communication is lost for three (3) seconds or \nmore, the standby CPU enters wait state. Wait state is characterised as a condition of neither \nPrimary nor Standby. It is \u2018waiting\u2019 for all preconditions to be met (HSBY Link). \nThe HSBY link is a crucial component to ensuring High Availability. As such it\u2019s status is sent \nto the SCADA for critical alarming. \n \n3.2.2 PLC Backplane \nTPL has standardised on the use of 8 and 4 slot, standard backplanes BMEXBP0800 and", "3.2.2 PLC Backplane \nTPL has standardised on the use of 8 and 4 slot, standard backplanes BMEXBP0800 and \nBMEXBP0400. These backplanes have also been standardised for Remote IO. One key role of \nthe backplane other than supply power to connected modules, is to provide a communication \nbus for the modules installed on the rack. This communication bus provides support for XBUS \nand Ethernet. All standard IO modules support XBUS while special purpose modules such as \nHART, Weighting modules, Ethernet communication modules etc use Ethernet. \nThe 8 Slot BMEXBP0800 will be used on all Rack with the exception of MV and Metering \npanels which will used the 4 slot BMEXBP0400.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 20 of 86 \n \nPage 20 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.2.3  Rack Power Supplies \nThe standard BMXCPS3500 High Power, Power Supply has been standardised on by TPL on \nall racks. This is an alternating current power supply module with a nominal input voltage \nrange of 100-120VAC/200-240VAC.  \n3.2.4  CPU - BMEH584040 \n3.2.4.1 CPU Module Front and Back Views \n \nFigure 3-2: CPU module view \n \n \n1. LED diagnostic display panel \n2. Mini-B USB port for module configuration via PC running Unity Pro", "1. LED diagnostic display panel \n2. Mini-B USB port for module configuration via PC running Unity Pro \n3. RJ45 Ethernet service port connector \n4. RJ45 connectors that together serve as a dual port to the Ethernet network \n5. SFP socket for copper or fibre-optic Hot Standby link connection \n6. Hot Standby status link LED \n7. SD memory card slot \n8. A/B/Clear rotary selector switch, used to designate the PLC as either PLC A or PLC B, or to \nclear the existing Unity Pro application \n \nThe BMEH584040 CPU is used in the PCS Upgrade Project.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 21 of 86 \n \nPage 21 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nFeature BMEH584040 BMEH584060* \nRIO drops (main+ \nextended racks) 16 31 \nBMENOC0301/11 \nEthernet scanners 4 6 \nProgram (MB) 16 64 \nData (MB) 2 Up to 64 \nMaximum retained    \ndata (KB) 2048 4096 \nMaximum configurable \nHot Standby transfer \ndata (KB) \n2048 4096 \nData Storage (GB) 4 4 \nDiscrete IO 4096 6144 \nAnalogue IO 1024 1536 \nTable 3-1: CPU Specifications \n* CPU available for use on larger sites. \n3.2.4.2 CPU Firmware Mismatch", "Table 3-1: CPU Specifications \n* CPU available for use on larger sites. \n3.2.4.2 CPU Firmware Mismatch \nThe M580 HSBY system can continue operating when there is a mismatch of firmware version \nin the primary and standby CPUs, if each CPU firmware can execute the application. This \nmakes it possible to upgrade (or downgrade) CPU firmware without having to stop the \noperation of the HSBY system. \n3.2.4.3 Application Mismatch \nThe M580 HSBY system cannot operate if the primary and standby CPUs are equipped with \nfundamentally different applications. In this case, the primary PLC operates as a standalone \nPLC and the standby PLC enters the stop state.  \nThe HSBY operation is restored by confirming that the applications in both CPUs are the", "The HSBY operation is restored by confirming that the applications in both CPUs are the \nsame. Procedures to deal with CPU failure is described in the PLC System Architecture Failure \nand Recovery Analysis document [27]", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 22 of 86 \n \nPage 22 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.2.4.4 SD Memory Card \nThe SD Card is an option which is used on the PCS Upgrade Project for application and data \nstorage. The SD Card is installed in the memory slot on the CPU (Item 7 on Figure 3-2: CPU \nmodule view). \nThe BMXRMS004GPF is a 4GB, Class A SD card which is rated for Industrial use. \nNote: The BMXRMS004GPF memory card is formatted specifically for the M580 CPUs. If you \nuse this card with another CPU or tool, the card may not be recognized by the M580.", "use this card with another CPU or tool, the card may not be recognized by the M580.  \nMemory card Characteristics \nGlobal memory size 4 GB \nApplication backup size 64 MB \nData storage size 3.93 GB \nWrite/erase cycles (Typical) 100 000 \nOperating temperature range -40\u2026+85 \u00b0C \nFile retention time 10 Years \nMemory zone for FTP access Data storage directory \nonly \nTable 3-2: Memory Card Specification \n \n3.2.5 BMENOC0321 Control Network Module \nThe BMENOC0321 is the entry point from the control network (SCADA Network) to a device \nnetwork (including RIO and distributed equipment) managed by a Modicon M580 PLC. The \nmodule provides network transparency and provides a direct Ethernet connection between \nthe control room subnetwork and the automation devices subnetwork.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 23 of 86 \n \nPage 23 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 3-3: BMENOC0321 module \n \nFeature Maximum Capacity \nClient Simultaneous requests 16 \nMessage Size 1024 Bytes \nServer Simultaneous requests 32 \nMessage Size 1024 Bytes \nTable 3-3: BMENOC0321 Connection Specification \nRefer to the Modicon M580 BMENOC0321 Control Network Installation and Configuration \nGuide [41] for further information. \n \n3.2.6 BMXNRP0201 Fibre Converter Module \nThe BMXNRP0201 serves as a Copper to Fibre / Fibre to Copper converter. These modules", "The BMXNRP0201 serves as a Copper to Fibre / Fibre to Copper converter. These modules \nare used to extend the distance of the network. Coalbrook will be the only site on the PCS \nUpgrade Project to use these modules. The BMXNRP0201 supports single-mode fibre cable \nfor distances up to 15km. This module serves as a medium converter and has no \nconfiguration. Power is supplied to this module via the Backplane.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 24 of 86 \n \nPage 24 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n \nFigure 3-4: BMXNRP0201 Single Mode Module \n \nRefer to BMXNRP0200/201 Fiber Converter Module User Guide [55] for further information. \n \n3.2.7 Local Rack Modules \nThe local rack comprises of (2 Local racks are used for HSBY): \n\u2022 Backplane \u2013 BMEXBP0800 (8 Slot Backplane) \n\u2022 Power Supply BMXCPS3500 \n\u2022 CPU \u2013 BMEH584040 \n\u2022 Hot Standby Link SFP (RJ45 Copper) \u2013 490NAC0100 \n\u2022 Ethernet Communication Module \u2013 BMENOC0321", "\u2022 CPU \u2013 BMEH584040 \n\u2022 Hot Standby Link SFP (RJ45 Copper) \u2013 490NAC0100 \n\u2022 Ethernet Communication Module \u2013 BMENOC0321 \n\u2022 Fibre Optic (Single Mode) Medium Convertor Module \u2013 BMXNRP0201 (The fibre optic \nmodule will be used where necessary and may not be present on all sites throughout \nthe Crude Pipeline). \nNote: A M580 Hot Standby Local rack: \n\u2022 Does not support IO modules \n\u2022 Does not support serial communication modules \n\u2022 Cannot be Extended", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 25 of 86 \n \nPage 25 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.2.8 Remote Racks \u2013 X80 IO \nThe HSBY configuration makes use of X80 Remote IO drops which comprises of: \n\u2022 Backplane \u2013 BMEXBP0800 (8 Slot Backplane) \n\u2022 Power Supply BMXCPS3500 \n\u2022 Ethernet Communication module \u2013 BMECRA31210 \n\u2022 Fibre Optic (Single Mode) Medium Convertor Module \u2013 BMXNRP0201 (Where \nnecessary) \n\u2022 Relevant IO Modules: Digital Inputs, Digital Outputs, Analogue Inputs, Analogue \nOutputs, High Speed Counter \n \n3.2.8.1 BMECRA31210 Communication adapter", "Outputs, High Speed Counter \n \n3.2.8.1 BMECRA31210 Communication adapter \nThe M580 PLC processor has 2 dedicated Device Ethernet ports which are used for \nconnection to multiple X80 remote IO racks. \nThe BMECRA31210 adapter is used as the interface at each remote rack. This module has the \nfollowing ports: \nService Port \n\u2022 Allows the diagnosis of Ethernet device network ports and provides access to \nexternal tools and devices (Unity Pro, ConneXium Network Manager, HMI etc.) \n\u2022 The following modes are supported: \no Access port (Default): This mode supports Ethernet communication. \no Port Mirroring: In this mode, data traffic from one of the other 2 ports are \ncopied to this port. This allows a connected management tool to monitor \nand analyse port traffic. \no Disable", "copied to this port. This allows a connected management tool to monitor \nand analyse port traffic. \no Disable \nDevice Network Ports  \nThe Device Network copper ports are used to put the drop on the simple daisy chain loop.  \nThey provide: \no Connections for Remote IO communications \no Cable redundancy \nThe BMECRA31210 adapter exchanges data via an IO Scanner service, which resides in the \nCPU on the main local rack: \n\u2022 The input data from the remote IO drop is collected and published to the IO scanner \n\u2022 The output modules are updated with the date received from the IO scanner \n\u2022 The protocol used for exchange is Ethernet/IP", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 26 of 86 \n \nPage 26 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n\u2022 The exchanges are deterministic, which means that the remote IO logic is scanned \nregularly in a scheduled and predictable manner. \n \nExternal Features \n \nFigure 3-5: BMECRA31210 physical features \n1 LED Display \n2 Rotary Switches \n3 Service Port (ETH 1) \n4 Device Network (ETH 2) \n5 Device Network (ETH 3) \n \nNetwork Cable Installation \nThe network cables are connected in a loop, i.e. A cable leaves the CPU (ETH 3) port and", "Network Cable Installation \nThe network cables are connected in a loop, i.e. A cable leaves the CPU (ETH 3) port and \nconnects to (ETH2) port on the CRA. The (ETH3) port on the CRA is then connected to (ETH \n2) on the next CRA module. The final CRA module on the last remote IO drop will have \n(ETH3) return to the CPU (ETH2). \nThis configuration forms a Ring connection. The RSTP protocol is implemented to establish \nredundant communications with at least of the paths active to the CPU. \n \n3.2.9 Switchover Causes \nAny one of the following events will cause a switchover: \n\u2022 The primary PLC has encountered a blocking condition (see Modicon M580 Hardware \nReference Manual [43]) and entered the HALT state. \n\u2022 The primary PLC has detected an unrecoverable hardware or system error.", "\u2022 The primary PLC has detected an unrecoverable hardware or system error. \n\u2022 The primary PLC has received a STOP command from Unity Pro or the DDDT. \n\u2022 An application program is being transferred to the primary CPU. \n\u2022 Primary PLC power is turned off.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 27 of 86 \n \nPage 27 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n\u2022 The following events simultaneously occur: \no The primary PLC loses communication to all RIO drops. \no The Hot Standby link is healthy. \no The standby PLC maintains communication with at least one RIO drop. \n\u2022 The DDDT CMD_SWAP command is executed by either program logic, or an \nanimation table Force Command.  \n\u2022 Clicking the HSBY Swap button in the Task tab of the CPU Animation window in Unity \nPro", "\u2022 Clicking the HSBY Swap button in the Task tab of the CPU Animation window in Unity \nPro \n\u2022 BMENOC0321 Failure or communication loss on this card. This switchover is not \nexecuted by the CPU but rather by user code. Therefore, this switch will be executed \nwithin the 50-100ms. The code has been written in alignment with the TVDA (Tested, \nValidated and Documented Architecture \u2013 From Schneider Electric). [54] \n3.2.10 Switchover Execution Time \nIf both the primary PLC and standby PLC are operating normally, the Hot Standby system \ndetects a switchover causal event within 15 ms. The time to complete a switchover can vary \nfrom the maximum detection time of 15 ms, up to one MAST cycle. \nAfter the switchover, the former standby PLC becomes the primary. In the worst case, the", "After the switchover, the former standby PLC becomes the primary. In the worst case, the \nnew primary PLC operates with data of scan cycle N, while the outputs have received (from \nthe former primary PLC) data of scan cycle N+1. The new primary PLC re-evaluates outputs \nbeginning with scan N+1. \nBecause the Hot Standby switchover evaluation occurs during the MAST task, some FAST \ntask program execution may be skipped. \n3.2.11 Switchover effect on the Main IP Address Assignments \nDistributed equipment uses the Main IP address setting to communicate over an Ethernet \nnetwork with the primary CPU. On switchover the Main IP address setting is automatically \ntransferred from the former primary CPU to the former standby \u2013 now the new primary CPU.", "transferred from the former primary CPU to the former standby \u2013 now the new primary CPU. \nSimilarly, on switchover the Main IP address + 1 setting is automatically transferred from \nthe former standby CPU to the new standby. \nIn this way, the configured links between the distributed equipment and the primary CPU do \nnot need to be edited in the event of a switchover.  \nThis switchover has the same effect on the BMENOC0321 module. These IP addresses are \nalso transferred across thereby ensuring an active connection to the SCADA system.  \n3.2.12 Switchover Effect on Remote Outputs \nFor Remote IO drops, the switchover is bumpless: the state of outputs is not affected by the \nswitchover. During Hot Standby operations, each PLC maintains an independent, redundant", "switchover. During Hot Standby operations, each PLC maintains an independent, redundant \nowner connection with each RIO drop. Each PLC makes this connection via IP address A or IP \naddress B, depending on the A/B/Clear rotary switch (Section 3.2.4.1) designation for its CPU.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 28 of 86 \n \nPage 28 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nWhen a switchover occurs, the new primary PLC continues to communicate with I/O via its \npre-existing redundant owner connection. \nNOTE: The switchover may not be bumpless with respect to distributed equipment outputs. \nDistributed IO include any device outside the Main IO Ring being scanned on Ethernet, such \nas the ACS1000 VSD or other devices on Modbus Serial which are serviced thought an", "as the ACS1000 VSD or other devices on Modbus Serial which are serviced thought an \nEthernet to Serial gateway. This is normally resolved on the end device configuration Hold \nTime. Setting the Hold time such that in the event of a communication interruption, the \noutputs are held in state. \n \n3.2.13 Change of Configuration on the Fly (CCOTF) \nAll M580 BMEH58x040 CPUs support CCOTF. CCOTF allows modifications of a Hot Standby \nprimary PLC configuration in RUN mode without causing a stoppage of the system due to the \nnecessity of a Full configuration download. The changes that can be made in the primary PLC \nare as follows: \n\u2022 Add a discrete or analogue module in a free slot. \n\u2022 Delete a discrete or analogue module. \n\u2022 Modify the configuration and adjustment parameters of a module.", "\u2022 Delete a discrete or analogue module. \n\u2022 Modify the configuration and adjustment parameters of a module. \nThe changes that can be made in an Ethernet RIO drop are as follows: \n\u2022 Add and X80 Remote IO drop. \n\u2022 Add a discrete or analogue module in a free slot. \n\u2022 Delete a discrete or analogue module. \n\u2022 Modify the configuration and adjustment parameters of a module. \n \n3.2.14 Diagnostics \nAll hardware related faults which provide LED indication at each module is accessible through \nthe user code of the PLC. Faults such as: IO module, channel, remote link, etc appear in bit \nformat (Boolean Logic 1 or 0 which represents \u2018Fault\u2019 or \u2018Healthy\u2019). \nAll IO modules and rack information will be packed to words and passed to the SCADA for", "All IO modules and rack information will be packed to words and passed to the SCADA for \ndisplay. The method of display is to be decided by AVEVA to align with Baseline displays. \n3.2.14.1 IO Module LED Diagnostics \nEach IO module is equipped with a display of LEDs on the front panel. This centralises the \nmodule information necessary for control diagnostics and maintenance. \nDepending on the module, the nature of the indication will differ. Digital modules indicate the \nlogic state of each channel, while analogue modules would indicate channel \u2018health\u2019 state. \nEach module has a Red LED indicating a fault.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 29 of 86 \n \nPage 29 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nThis panel serves as a local form of diagnostics. All of the information present on this panel is \navailable at a software level for access through Unity Pro and packed for SCADA display. \n \n \nFigure 3-6: General Module LED indication \n \n3.2.14.2 CPU LED Panel \nThe front face of the BMEH584040 HSBY CPU uses the following LED panel to diagnose the \nstate of the HSBY system. \n \n \nFigure 3-7: CPU LED Panel", "state of the HSBY system. \n \n \nFigure 3-7: CPU LED Panel \nThe purpose of this LED panel is to provide a first level, quick diagnostics for the system or \nmodule in specific.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 30 of 86 \n \nPage 30 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n \nTable 3-8: CPU LED Panel", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 31 of 86 \n \nPage 31 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.2.14.3 Diagnostics via Unity Pro \nUsing the integrated diagnostics in Unity Pro, the local diagnostics on the module front panel \nare complemented by system diagnostics based on predefined screens at global hardware \nconfiguration level, module level and channel level. \n3.2.14.4 Remote diagnostics \nRemote diagnostics using a web browser is made possible with the standard web server \nintegrated in the Modicon X80 IO platform (Processor Ethernet port or BMENOC0321 module)", "integrated in the Modicon X80 IO platform (Processor Ethernet port or BMENOC0321 module) \nusing the \u201cready-to-use\u201d Rack Viewer function. Due to the transparency of Ethernet, it is \npossible for the MCC engineering station to connect to any PLC CPU across the Pipeline to \nview diagnostics. There is no transparency however to the X80 IO due to the segregation of \nthe Device network (IO Ring). Diagnostics from IO devices are accessible through the CPU.  \n3.2.14.5 PLC Diagnostics sent to SCADA \nThe following signals will be interfaced between PLC and SCADA. To be reviewed during \nphase 2. \nCPU Redundancy status / Backup path available \n CPU Fault/Stopped \n Hot/Standby status \nField PSU Device Fault \nRemote Racks Drop Status \nX80 IO Modules Module status", "Hot/Standby status \nField PSU Device Fault \nRemote Racks Drop Status \nX80 IO Modules Module status \nRemote Communication Module(CRA) Module Status \n Port Status \n Ethernet Backplane Status \nBMENOC321 (SCADA Communication) Module Status on Active module \n Port Status on Active module \n \n3.3 Performance \n3.3.1 Controller Performance \nThe minimum MAST task and FAST task are calculated by the following formulae: \n\u2022 (# of RIO drops using MAST task) /1.5 \n\u2022 (#of RIO drops using FAST task / 1.5) \n\u2022 (# of RIO drops using MAST task) / (MAST cycle time) + (# of RIO drops using FAST \ntask) / (FAST cycle time) < 1.5 \nMAST Task", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 32 of 86 \n \nPage 32 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nThe estimated maximum drops to be used on any given site of the Crude PCS Upgrade \nProject is sixteen (16). \nTherefore, the minimum MAST task cycle time could be, (16) / 1.5 = 10.667ms for the \nMAST task. Despite the possibility of setting a such a fast scan rate, it is estimated that the \nMAST task will be set to 50ms to cater for Application Response Time (Section 3.3.2). Due to", "MAST task will be set to 50ms to cater for Application Response Time (Section 3.3.2). Due to \ndifference in size of applications and the need to keep the CPU load less than 60%, the Mast \nTask will be set to 50ms as a start. Once the site application has been developed, and \nassessment will be made on the CPU loading. If the loading is above 60%, increments of \n25ms will be added in bringing down the CPU Loading up to a maximum of 200ms. \nFAST Task \nWhere high speed sensing is required, e.g. Pig detection, a Fast Task is used. The Fast Task \nwill be set to 5ms. \nConfiguration requirement set out in Modicon M580 Hot Standby System Planning \nGuide [42]. \n(16 / 50) + (2 / 5) = 0.72. This result is less than (<) the guideline requirement of 1.5 \n \n3.3.2 Application Response Time", "3.3.2 Application Response Time \nEach Ethernet RIO input signal packet travels from a Remote IO drop to the CPU and the CPU \nsends an output signal back to the RIO drop. The time it takes for the CPU to receive the \ninput signal and effect a change in the output module based on the input is called Application \nResponse Time (ART).  \n \nFigure 3-9: Maximum Application Response Time \nA Missed input scan 6 CPU input jitter \nB Missed output scan 7 Operation of application logic (1 \nScan) \n1 Input turns ON 8 CPU output jitter \n2 CRA drop processing time 9 Network delay", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 33 of 86 \n \nPage 33 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3 CRA input Request Packet Interval(RPI) rate 10 Network jitter \n4 Network delay 11 CRA drop processing time \n5 Network jitter 12 Output applied \nTable 3-4: Maximum Application Response time Cycle \n \nTo estimate the maximum ART for the Crude PCS Upgrade Project, the following information \nis used: \n\u2022 CRA->Scanner RPI  \n\u2022 2*CPU_Scan (PLC Scan) \n\u2022 8.8ms (A constant value representing maximum CRA processing time).", "\u2022 CRA->Scanner RPI  \n\u2022 2*CPU_Scan (PLC Scan) \n\u2022 8.8ms (A constant value representing maximum CRA processing time). \nThe Estimated Maximum ART for a given station with a periodic scan of 50ms: \nCRA_RPI(25ms) + (2*50ms) + 8.8ms = 133.8ms \n \n3.3.3 Availability \nFor PLC System Availability calculations, please refer to PLC System Architecture Failure and \nRecovery Analysis document [27].", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 34 of 86 \n \nPage 34 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4 System Architecture \n3.4.1 Ring Topology with HSBY \n \nFigure 3-10: Typical Remote IO Ring Topology \n \nFigure 3-11: TPL System Typical", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 35 of 86 \n \nPage 35 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.2 On-Site Engineering Stations \nUnity Pro software (one licence) is installed on the Engineering Server at the NOC, and on the \nProduction Host virtual servers on the local stations (one licence per site). A Facility Licence is \nprovided (100 Licences).", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 36 of 86 \n \nPage 36 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3 X80 Remote IO \n3.4.3.1 IO Assignment and Grouping Philosophy  \nThe Following IO modules will be used where necessary: \n\u2022 Digital input modules \n\u2022 Digital output modules \n\u2022 Analogue input modules \n\u2022 Analogue output modules \n\u2022 High speed counter module \nOn average, 25% additional IO is added for spare capacity. Spare slots are also ensured to \nprovide capacity for future expansion. \nEach mainline pump set IO will be allocated to separate racks where possible.", "Each mainline pump set IO will be allocated to separate racks where possible.   \nDevices will be ordered on a card in device group order and then sequential tag order, where \npossible.  \n \n3.4.3.2 Digital Inputs \nBMXDDI3202k \nThe 32channel modules standardised on for the Crude PCS Upgrade Project is the \nBMXDDI3202k. The IO modules are housed in plastic cases which provide IP20 protection for \nall the electronic parts. \nThe diagram below shows a 40-pin discrete module. \n \nFigure 3-12: 32 Channel Digital Input/Output Module", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 37 of 86 \n \nPage 37 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nNumber Description \n1 \nRigid structure which supports \nand protects the electronic \ncard. \n2 \nModule reference label \nNote: A label is also visible on \nthe right-hand side of the \nmodule. \n3 Channel status display panel. \n4 \n40-pin connector, used to \nconnector sensors or pre-\nactuators. \nTable 3-13: Description of 32 Channel Digital Input Module \n \n3.4.3.2.1 Specifications \nBMXDDI3202k \nNumber of channels 32 Digital Inputs \nRange 24VDC", "3.4.3.2.1 Specifications \nBMXDDI3202k \nNumber of channels 32 Digital Inputs \nRange 24VDC \nInsulation Inputs opto-isolated per group of 16 channels \nIEC61131-2 \ncompliance \nType 3 \nLogic Positive (sink) \nProximity sensor \ncompatibility \n2-wire DC and 3-wire PNP proximity sensor (IEC 947-\n5-2 standard compliant) \nResponse time 4 ms, 7 ms(Max) \nType of Interface Connection via 40-way connector with preassembled \ncord sets \nProtection of inputs Requirement: External 1x 0.5A fast blow fuse per \ngroup \nReverse polarity \nprotection \nYes \nIsolation Isolation 500VDC between groups of channels \nTable 3-14: Basic Specifications of BMXDDI3202k", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 38 of 86 \n \nPage 38 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nBMXDDI1602 \nThe 16channel Digital Input modules standardised on for the Crude PCS Upgrade Project is \nthe BMXDDI1602. These IO modules are housed in plastic cases which provide IP20 \nprotection for all the electronic parts. \nThe diagram below shows a 20-pin discrete module and 20-pin terminal block. Screw \nterminals are used throughout all connections. \n \nBMXDDI1602 \n Inputs \nNumber of \nchannels \n16 Digital Inputs  \nRange 24VDC", "BMXDDI1602 \n Inputs \nNumber of \nchannels \n16 Digital Inputs  \nRange 24VDC  \nIsolation 16 Optically Isolated inputs and 1 \ncommon  \nIEC61131-2 \ncompliance \nType 3 \nLogic Positive (Sink) \nProximity \nsensor \ncompatibility \n2-wire DC and 3-wire PNP proximity \nsensor (IEC 947-5-2 standard \ncompliant) \nResponse time 4 ms, 7 ms(Max) \nType of \nInterface \nConnection via removable 20-way \nterminal block \nProtection Requirement: External 1x 0.5A fast \nblow fuse per group \nReverse \npolarity \nprotection \nYes \nIsolation 500VDC between groups of inputs and \noutputs", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 39 of 86 \n \nPage 39 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.2.2 Module Density \n32 channel modules have been standardised on by TPL for all input modules located in the \nPLC, Metering and LV Panels. 16 channel modules are used in the MV panels where space \nconstraints exist.  \n32 channel modules have been selected in order to standardise on 40pin connectors and \nTelefast base units. \n3.4.3.2.3 Wiring connections \n \nFigure 3-15: Wiring Connection DDI1602 \n \nFigure 3-16: Wiring Connection DDI3202k", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 40 of 86 \n \nPage 40 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n \nFigure 3-17: Input Circuit Diagram for DDI1602 and DDI3202k \n \n \n3.4.3.2.4 TELEFAST ABE7 Terminal Blocks General Description \nThe TELEFAST system is a group of products which enables discrete input modules to be \nquickly connected to operational components.  \nThe specific model of TELEFAST ABE7 Terminal Block for the PCS Upgrade Project is to be \nproposed below have been chosen.  \n \nFigure 3-18: 40-pin connector to TELEFAST Block", "proposed below have been chosen.  \n \nFigure 3-18: 40-pin connector to TELEFAST Block \nThe principle for identifying the connection interface bases for 8/12/16-channel discrete IO is \nas follows:", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 41 of 86 \n \nPage 41 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 3-19: TELEFAST Block Identification \n \nABE-7H16S21 \nThe ABE-7H16S21 is proposed for Digital Inputs on the Crude PCS Upgrade Project. This base \noffers 16 inputs with an isolator and LED per channel. \n \n \nFigure 3-20: ABE-7H16S21 Connections \n3.4.3.2.5 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS)  \nIS and Non-IS IO have been combined. Further information to follow beyond the FEED phase.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 42 of 86 \n \nPage 42 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.3 Digital Outputs \nBMXDD03202k \nThe 32channel modules standardised on for the Crude PCS Upgrade Project is the \nBMXDD03202K. The IO modules are housed in plastic cases which provide IP20 protection for \nall the electronic parts. \nThe diagram below shows a 40-pin discrete module. \n \nBMXDDO1602 \n16 channel Digital Output modules BMXDDI1602 are used in the MV panels due to space \nconstraints as described above. \n \nFigure 3-21: 16 Channel Digital Module", "constraints as described above. \n \nFigure 3-21: 16 Channel Digital Module \n \n \nFigure 3-22: 32 Channel Digital Module", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 43 of 86 \n \nPage 43 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nNumber Description \n1 Rigid structure which supports \nand protects the electronic card \n2 \nModule reference label \nNote: A label is also visible on \nthe right-hand side of the \nmodule. \n3 Channel status display panel \n4 \n40-pin connector, used to \nconnector sensors or pre-\nactuators \nTable 3-23: Description of  Channel Digital Output Module", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 44 of 86 \n \nPage 44 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n3.4.3.3.1 Specifications \n \nBMXDDO1602 \nNumber of \nchannels \n16 Outputs \nRange 24VDC \nInsulation Outputs insulated per group of 16 \nchannels \nCurrent 0.5A \nLogic Positive \nOverload \nprotection \nOutputs protected against short-\ncircuits and overloads with automatic \nor controlled reactivation and fast \nelectromagnet demagnetisation circuit. \nResponse time 1.2ms \nType of \nInterface \n1 x removable 20-pin terminal block  \nProtection of \noutputs", "Response time 1.2ms \nType of \nInterface \n1 x removable 20-pin terminal block  \nProtection of \noutputs \nRequirement: External 1x 6.3A fast \nblow fuse.  \nProtection of \nDC outputs \nActive transistor outputs can withstand \noverloads, short-circuits, reverse \npolarity and inductive over-voltage. \nIsolation 500VDC between groups of channels \nTable 3-24: Basic Specifications of BMXDDO1602 \n \nBMXDDO3202K \nNumber of \nchannels \n32 Outputs \nRange 24VDC \nInsulation Outputs insulated per group of 16 \nchannels \nCurrent 0.1A \nLogic Positive", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 45 of 86 \n \nPage 45 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nOverload \nprotection \nOutputs protected against short-\ncircuits and overloads with automatic \nor controlled reactivation and fast \nelectromagnet demagnetisation circuit. \nResponse time 1.2ms \nType of \nInterface \n1 x 40-pin connector  \nProtection of \noutputs \nRequirement: External 1x 2A fast blow \nfuse per group of 16.  \nProtection of \nDC outputs \nActive transistor outputs can withstand \noverloads, short-circuits, reverse \npolarity and inductive over-voltage.", "Active transistor outputs can withstand \noverloads, short-circuits, reverse \npolarity and inductive over-voltage. \nIsolation 500VDC between groups of channels \nTable 3-25: Basic Specifications of BMXDDO3202K \n \n3.4.3.3.2 Module Density \n32 channel modules have been standardised on by TPL for all output modules located in the \nPLC, Metering and LV panels. 16 channel modules are used in the MV panels where space \nconstraints exist.  \n32 channel modules have been selected in order to standardise on 40pin connectors and \nTelefast base units.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 46 of 86 \n \nPage 46 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.3.3 Wiring connections \n \n \nFigure 3-26: Wiring connection of BMXDDO1602 \n \n \nFigure 3-27: Wiring connection of BMXDDO3202", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 47 of 86 \n \nPage 47 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 3-28: Output Circuit Diagram of BMXDDO1602 and BMXDDO3202 \n \n3.4.3.3.4 Telefast ABE7 Terminal Blocks \u2013 ABE-7P16T210 \nThe ABE-7P16T210 is proposed for Digital Outputs on the Crude PCS Upgrade Project. This \nbase offers one LED indication per potential free contact (N.O.). The output contacts are \npotential free with a common per channel. This base supports the use of a combination of", "potential free with a common per channel. This base supports the use of a combination of \nelectro-mechanical and solid-state relays. The standard mechanical relays offering a 5A rating \non the contact is to be used. \n Note: Solid State relays are optional but not recommended which provide a 2A rating on the \ncontact. \n \n  \nFigure 3-29: Wiring connection of ABE7P16T210", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 48 of 86 \n \nPage 48 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.3.5 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) \nIS and Non-IS IO have been combined. All IS IO will use Barriers as specified in section 3.4.6. \n3.4.3.4 High Speed Counter module \n \nThe BMCEHC0800 counting module is a standard format module that enable pulses from a \nsensor to be counted at a maximum frequency of 10kHz. \nThe sensors used on each channel may be: \n\u2022 24VDC two-wire proximity sensors \n\u2022 24VDC three-wire proximity sensors", "The sensors used on each channel may be: \n\u2022 24VDC two-wire proximity sensors \n\u2022 24VDC three-wire proximity sensors \n\u2022 Incremental signal encoders with 10/30 VDC output and push-pull outputs.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 49 of 86 \n \nPage 49 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.4.1 Specifications \nBMXEHC0800 \nModule Type 8 Channel High Speed Counter \nCounter size 16 bits \nMaximum \nfrequency at \ncounting inputs \n10kHz \nNumber of \ninputs per \ncounting \nchannel \n2 inputs in single mode \n3 inputs in special dual phase mode \nInput \nCompatibility \n2-wire/3-wire proximity sensor \n19.2..30VDC \nInput Voltage 24VDC Type 3 \nCycle Time 5ms \nIsolation 1500V for 60s \nTable 3-30: Basic Specifications of BMXEHC0800 \n3.4.3.4.2 Module Density", "Cycle Time 5ms \nIsolation 1500V for 60s \nTable 3-30: Basic Specifications of BMXEHC0800 \n3.4.3.4.2 Module Density \nThe BMXEHC0800 8 Channel high speed counter module has been standardised for use on \nthe Crude PSC Upgrade Project where needed. This module supports inputs up to a maximum \nof 10kHz.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 50 of 86 \n \nPage 50 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.4.3 Wiring connections \n \nFigure 3-31: Typical wiring connection of BMXEHC0800 \n3.4.3.4.4 Removable Terminal Blocks \nScrew clamp terminals are used on the BMXEHC0800 module. \n \n \nFigure 3-32: Screw Clamp Terminal Blocks \n3.4.3.4.5 Telefast ABE7 Terminal Blocks \nTelefast ABE7 terminal blocks are not available on High speed counter modules. Signals will \nbe wired to terminal rails using SAKR 2.5 knife-edge Terminals.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 51 of 86 \n \nPage 51 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n3.4.3.5 Analogue Inputs \nThe BMXAMI0810 is a high density analogue input module with 8 isolated channels. This \nmodule is used in conjunction with sensors or transmitters; it performs monitoring, \nmeasurement and continuous process control functions. \nThis module offers the following range for each input according to the selection made during \nconfiguration: \n\u2022 +/- 10 V \n\u2022 0..10 V \n\u2022 0..5 V / 0..20 mA \n\u2022 1..5 V / 4..20 mA \n\u2022 +/- 5 V / +/-20mA \n \n3.4.3.5.1 Specifications", "\u2022 +/- 10 V \n\u2022 0..10 V \n\u2022 0..5 V / 0..20 mA \n\u2022 1..5 V / 4..20 mA \n\u2022 +/- 5 V / +/-20mA \n \n3.4.3.5.1 Specifications \nBMXAMI0810 \nModule Type 8 High level isolated fast inputs \nNature of \ninputs \nVoltage/Current (250\u03a9 internally protected \nresisters) \nDisplay \nResolution \n15 bit +Sign \nAcquisition \ncycle time: \n9ms for 8 Channels \nFast (periodic \nacquisition for \nthe declared \nchannels used) \n1ms + 1ms x number of channels used \nDefault \n(periodic \nacquisition for \nall channels) \n9ms \nIsolation Between Channels: 300VDC \nBetween Channel and Bus: 1400VDC \nBetween Channel and Ground: 1400VDC \nWire-break \ndetection \nYes \nShort-circuit \nprotection \nYes", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 52 of 86 \n \nPage 52 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nReverse polarity \nprotection \nYes \nTotal Error +/- 0.1% \nMax load \nimpedance  \n250\u03a9 \nTable 3-33: Basic Specifications of BMXAMI0810 \n3.4.3.5.2 Module Density \nThe BMXAMI0810 is an 8 Channel module that has been standardised on by TPL for use on \nthe Crude PSC Upgrade Project where needed. \n3.4.3.5.3 Wiring connections \n \n \nFigure 3-34: Wiring connections of BMXAMI0810", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 53 of 86 \n \nPage 53 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n3.4.3.5.4 Telefast ABE7 Terminal Blocks \n \nFigure 3-35: Wiring connections of ABE-7CPA02 \nThe ABE7CPA02 Telefast base unit is used for analogue inputs modules. This module allows \nconnection on a screw terminal block of 8 current/voltage IO. \n \n3.4.3.5.5 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) \nIS and Non-IS IO have been combined. Further information to follow beyond the FEED phase. \n \n3.4.3.6 Analogue Outputs", "IS and Non-IS IO have been combined. Further information to follow beyond the FEED phase. \n \n3.4.3.6 Analogue Outputs \nThe BMXAMO0410 has been standardised on for the PCS Upgrade project for all analogue \noutputs. The BMXAMO0410 is a high density analogue output module fitted with four isolated \nchannels. It offers the following ranges for each output: \n\u2022 Voltage: +/- 10 V \n\u2022 0..20 mA \n\u2022 4..20 mA \n3.4.3.6.1 Specifications \nBMXAMO0410 \nModule Type 4 High level Fast Outputs \nNature of inputs Voltage or Current configured by software:", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 54 of 86 \n \nPage 54 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n+/- 10V \n0-20mA \n4-20mA \nDigital/Analogue \nconvertor \nresolution \n15Bit +Sign \nOutput refresh \ntime \n1ms \nTypes of \nProtection \nFrom short circuits and overloads (Voltage output) \nWirebreak indication \nIsolation Between Channels: 750VDC \nBetween Channel and Bus: 1400VDC \nBetween Channel and Ground: 1400VDC \nMeasurement \nerror \n<=0.25% of full scale 0..60\u00b0C \n0.1% of full scale 25\u00b0C \nLoad impedance \nohmic \n>=1000 Ohm +/-10V \n<= 500  0..20mA \n<= 500  4..20mA", "0.1% of full scale 25\u00b0C \nLoad impedance \nohmic \n>=1000 Ohm +/-10V \n<= 500  0..20mA \n<= 500  4..20mA \nTotal Error +/- 0.18% Current \nTable 3-36: Basic Specifications of BMXAMO0410 \n3.4.3.6.2 Module Density \nThe BMXAMO0410 is a 4 Channel module that has been standardised on by TPL for use on \nthe PSC Upgrade Project where needed. \n3.4.3.6.3 Wiring connections \n \nFigure 3-37: Wiring connections of BMXAMO0410", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 55 of 86 \n \nPage 55 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.3.6.3.1 Telefast ABE7 Terminal Blocks \nThe ABE7CPA21 Telefast base unit with the cable BMXFCA 150/300/500 is used for analogue \noutputs modules. This module allows connection on a screw terminal block of 8 \ncurrent/voltage IO.  \n \nFigure 3-38: Wiring connections of ABE-7CPA21 \n3.4.3.6.3.2 Intrinsically Safe (IS) and Non-Intrinsically Safe (Non-IS) \n \nIS and Non-IS IO have been combined. Refer to section 3.4.6 for selected Barriers. \n3.4.4 Fynnlands Site", "IS and Non-IS IO have been combined. Refer to section 3.4.6 for selected Barriers. \n3.4.4 Fynnlands Site \nThe Fynnlands site will be the only site on the PCS Upgrade Project with an initial installation \ncomprising of \u2018Hardened\u2019 PLC Hardware. \nHardened equipment is the ruggedized version of standard equipment that can operate in \nextended temperature ranges and in dirty or corrosive environments. There are hardened \nversions of several of the CPUs, backplanes, and power supplies, as well as other \ncomponents, in the M580 system. These components are listed below in Table 3-39. \nThe standard temperature range for M580 equipment is 0...60 \u00b0C. Hardened equipment can \noperate at extended temperature range: \u201325...70 \u00b0C.", "operate at extended temperature range: \u201325...70 \u00b0C. \nThese modules are interchangeable with standard modules without the need for any form of \nconfiguration changes. \nBMEH584040C M580 CPU redundant family 40 with remote \nand distributed I/O - Coated \nBMECRA31210C X80 Performance Ethernet Drop adapter, \nEthernet Backpane - Coated \nBMENOC0321C M580 I/O Scanner Module, IP Forwarding, \nEthernet/IP & Modbus TCP, 3 ports - \nCoated \nBMEXBP0400H PLC 4 slots Ethernet backplane hardened \nBMEXBP0800H PLC 8 slots Ethernet backplane hardened", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 56 of 86 \n \nPage 56 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nBMXAMI0810H  X80 Analog Input Module, High Speed, 8 \nchannels, isolated - Hardened \nBMXAMO410H X80 Analog Output Module, 4 channels, \nisolated - Hardened \nBMXCPS3500H X80 AC Power Supply Module, 100\u2026240 V \nAC, 36W - Hardened \nBMXDDI1602H X80 Digital Input Module, 16 channels, 24 V \nDC, Positive (sink) - Hardened \nBMXDDI3202KH X80 Digital Input Module, 32 channels, 24 V \nDC, Positive (sink) - Hardened \nBMXDDO1602H X80 Digital Output Module, 16 channels, 24", "DC, Positive (sink) - Hardened \nBMXDDO1602H X80 Digital Output Module, 16 channels, 24 \nV DC, Positive - Hardened \nBMXDDO3202KC X80 Digital Output Module, 32 channels, 24 \nV DC, Positive - Coated \nTable 3-39: Hardended / Conformally Coated Modules \n \n3.4.5 Field Power Supplies \nThe Phaseo Universal electronic switch mode power supply for Schneider Electric is designed \nto provide the DC voltage necessary for the PLC automation systems described above.  \nThe ABL8RP Universal range will be used and sized accordingly during detail engineering.  \n \n \n \n \n  Secondary  \nPart Number Input Voltage \nOutput \nVoltage \nNominal \nPower \nNominal \nCurrent \nConforming \nStandard \nABL8RPM24200 \n100\u2026120V AC \n200\u2026500V AC \n(Single Phase) \n-15%, +10% \n50/60Hz \n24\u202628VDC 480W 20A IEC/EN 61000-3-2", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 57 of 86 \n \nPage 57 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 3-40: Phaseo ABL8RP Power Supply.  \nRedundancy Module for Power Supplies \nRedundancy of power supplies is offered with the use of the ABL8RED24400. This unit allows \nthe paralleling and redundancy of two of the power supplies specified above to ensure \nuninterrupted operation of the application excluding AC line failure and application overloads. \n \nFigure 3-41: ABL8RED24400 Redundant Power Supply Module \n \n \nFigure 3-42: ABL8RED24400 Wiring diagram", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 58 of 86 \n \nPage 58 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n3.4.6 Galvanic Isolators \nTPL has standardised on Pepperl+Fuchs Galvanic isolators for all IS loops as follows: \n\u2022 Analogues: HiD2022 (Dual Channel) \n\u2022 Digitals: HiD2844 (Switch Amplifier - 4 Channel Isolator) \n\u2022 Metering Panel: Zener: Z-961 (2 Channel)  \n\u2022 PLC Panels: Zener: Z779 (2 Channel) \n\u2022 Blanks: HiD2000( Blank Place Holders) \n\u2022 Termination Board(Backplane) 8 Slot: HiDTB08-SCT-99C-SC-RA \n\u2022 Transmitter Power Supply: KFD2-CRG2-Ex1.D \nOptional Modules", "\u2022 Transmitter Power Supply: KFD2-CRG2-Ex1.D \nOptional Modules \n\u2022 HiATB01-HART-2X16: HART communication board for 2-channel module \n\u2022 HiDMux2700: HART multiplexer master \n\u2022 HiACA-UNI-FLK34-*M* : HART connection cable \n \n3.4.7 Panel Specifications \nPanel Specification \u2013 refer to Panel Specification document [30] and [31] \n \n3.4.8 PLC & LAN Architectures  \n3.4.8.1 Typical Pump Station Architecture \nRefer to the PLC LAN Architecture Typical Pump Station drawing[11]. \n3.4.8.2 Typical Booster Station Architecture \nRefer to the PLC LAN Architecture Typical Booster Station drawing [12] to be referenced. \n3.4.8.3 Fynnlands Station Architecture \nRefer to the PLC LAN Architecture Fynnlands Intake Station drawing [10]. \n3.4.8.4 Coalbrook Architecture", "Refer to the PLC LAN Architecture Fynnlands Intake Station drawing [10]. \n3.4.8.4 Coalbrook Architecture \nRefer to the PLC LAN Architecture Coalbrook drawing [13].", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 59 of 86 \n \nPage 59 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.9 Communication and System Interfaces \nThe following interfaces are excluded from the PLC system: \n\u2022 MIS \n\u2022 Existing ATMOS PIPE LDS \n\u2022 Bentley Nevada MMS System 1 \nRefer to SCADA FDS for further information. \n3.4.9.1 Interfaces \n3.4.9.1.1 Interface 1: OASyS SCADA \nThe interface between the OASyS SCADA system and the PLC system is described within the \ndocument SCADA/PLC Communication Plan [5] \n3.4.9.1.2 Interface 3: Metering", "document SCADA/PLC Communication Plan [5] \n3.4.9.1.2 Interface 3: Metering \nFor details on the Metering interface, refer to the Metering FDS [3]. \n3.4.9.1.3 Interface 4: Fire and Gas \nThe Fire System(s) are controlled locally from the Fire Panels located on site. Limited \ninterfacing is provided between the Fire System/s and the Process Control System for \nalarming purposes only. \nTwo types of interface exist to Fire & Gas systems installed on TPL sites: \n1. Hardwired Interface of signals direct to PLCs installed in the respective PLC Panels  \n2. Communications interface to Det-Tronics Fire and Gas systems over Modbus 422/485. \n3.4.9.1.4 Interface 5: ABB ACS1000 MV Variable Speed Drive \nThe present interface to the ABB ACS1000 MV VSD is via Profibus DP. Profibus DP", "The present interface to the ABB ACS1000 MV VSD is via Profibus DP. Profibus DP \ncommunication is possible on the M580 PLC as described in section 3.5.10.2.  \nProfibus is possible with the ACS1000 via the NPBA-12 module supplied by ABB. The NPBA12 \nmodule is a profibus slave which interfaces with the drive via a optical fibre connection. With \nthe use of this module, it is possible to:  \n\u2022 Monitor the drive \no Read and adjust drive parameter values \no Read status information and actual values from the drive \no Read and clear the contents of the fault log and save it to a file \n\u2022 Control the Drive \no Give control commands (Start, Stop, Run enable, etc) to the drive", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 60 of 86 \n \nPage 60 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \no Feed a motor speed to the drive \no Reset a drive fault \n \nFigure 3-43: ABB NBA-12 Profibus interface module \n \n3.4.9.1.5 Interface 6: Bentley Nevada Machine Monitoring System \nThe interface between the Bentley Nevada 3500 Rack to PLC and from the PLC to System 1 \nserver is RS422. This is not supported by the current hardware and the use of a convertor will \nneed to be investigated in future.  \n3.4.9.1.6 Interface 7: Tank Gauging System Heads", "need to be investigated in future.  \n3.4.9.1.6 Interface 7: Tank Gauging System Heads \nCommunications interface directly to the Tank Gauging System over Modbus 485. TPL \ncurrently has an installed base of: \n\u2022 Rosemount Raptor Radar Level Tank Gauging system, comprising of 5900S Radar \nLevel Gauge, 2240S Temperature sensor, and 2410 Tank Hub. \n\u2022 SAAB/Rosemount RTG3950 Tank Gauging System. \n3.4.9.1.7 Interface 8: UPS Interface \nHardwired Interface of two UPS volt-free contacts will be required: one to initiate \nserver/workstation shutdown, and another to alarm a UPS fault. \n3.4.9.1.8 Interface 9: Safety Instrumented Systems \nTwo Safety instrumented functions have been identified within TPL Pipeline infrastructure viz:  \n\u2022 Tank overfill protection", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 61 of 86 \n \nPage 61 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n\u2022 Line over-pressure protection \nSafety protection will be implemented using a stand-alone Pepperl+Fuchs KFD2-CRG2-EX1.D \ntrip amplifier relay. This relay is rated SIL 2 and has the following functionality: \n\u2022 IS rated 4-20mA input \n\u2022 4-20mA output repeated to the PLC for indication purposes \n\u2022 2 Programmable relay outputs. One for trip function and other for PLC indication and \nalarming. \nFor details on SIL FMEDA assessment refer to PNF document FS-013PF20B, 7 Oct 2008.", "alarming. \nFor details on SIL FMEDA assessment refer to PNF document FS-013PF20B, 7 Oct 2008. \nIn addition, the Weidm\u00fcller SCS 24VDC P1SIL3DS M safety relay will be used in the MV \npanels to trip the electrical circuit.  \n3.4.9.2 Profibus Remote Master \nThe ABB ACS1000 MV Drive currently utilise Profibus for communication.  \nThe Modicon M580 incorporates the Profibus protocol by means of a gateway device: Profibus \nRemote Master (PRM). \nThe PRM is a standalone module designed to provide Profibus DPV0 and DPV1 master \ncapability to the M580 PLC range amongst others. It is integrated in the PLC architecture as a \nModbus TCP slave. \nThe Profibus configuration is done using the FDT/DTM technology. \nThe PRM module can be mounted standalone on DIN rail, grid or panel.", "The PRM module can be mounted standalone on DIN rail, grid or panel. \nKey features of the PRM module: \n\u2022 Provides transparent access from Unity Pro to the Profibus devices. \n\u2022 Profibus DPV0 and DPV1 Master \n\u2022 Up to 125 Profibus devices with a total of less than 4Kbytes input data and 4Kbytes \noutput data. \n\u2022 2 Ethernet ports with an embedded switch \n\u2022 Fast Device Replacement (FDR) \n \nFigure 3-44: Profibus Remote Master", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 62 of 86 \n \nPage 62 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.9.3 Modbus Serial \nThe BMXNOM0200 Serial link module is used for Modbus serial communication on the PCS \nupgrade project.  \nThe BMXNOM0200 module provides 2-way asynchronous serial communication. Modbus \nSerial (master or slave) and Character Mode communications is supported. This module is a \nsimple-format, dedicated module which is installed on the Remote IO rack. Two modules can", "simple-format, dedicated module which is installed on the Remote IO rack. Two modules can \nbe installed on a remote drop. A card will be installed on the Remote Drop closest to where it \nis needed. Multiple cards may be need on a site based on the number of device that need \nconnection. \n \nFigure 3-45: BMXNOM0200 Modbus Serial Module", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 63 of 86 \n \nPage 63 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n3.4.10 Time Synchronization \nThe PLC will be synchronised to the local Domain Controller as a primary. Secondary will be \nthe MCC Domain Controller. \nTime synchronization is described in detail in the SCADA Functional Design Specification \ndocument [2].", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 64 of 86 \n \nPage 64 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4 SOFTWARE \n4.1 Unity Pro \n4.1.1 Programming Platform \nUnity Pro (now known as EcoStruxure Control Expert) is the programming platform used to \nconfigure and program and the Modicon M580 PLC.  \nThe XL package is used on the PCS upgrade project as it is required to configure and \nprogram the M580 HSBY system. \n \nGeneral Program Structure \nCentral to the Unity Pro application is the Project Browser. The project browser is used for", "Central to the Unity Pro application is the Project Browser. The project browser is used for \nnavigation, displaying and organising all project parameters. The view can be shown either as \nstructural (topological) view and/or functional view.  \nTPL programs will be structured using 1 MAST (50ms) task. The MAST task will contain all of \nthe necessary sections for control of the specific site. Each section will belong to a Functional \ngroup. Many associated sections can belong to one Functional Group. For example, a \nLauncher Functional Group may have multiple sections of code. Details on the Functional \nGroups will be determined during the Development phase of the project. \nIn addition to the MAST TASK, a single FAST (5ms) task is configured. The sections within the", "In addition to the MAST TASK, a single FAST (5ms) task is configured. The sections within the \nFAST task are related to functions that require a faster response time, e.g. Pig Detection. \n \nFigure 4-1: Unity Pro \u2013 Example of Structural and Functional View", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 65 of 86 \n \nPage 65 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nStructural View \nThe project browser offers the following features in the structural view: \n\u2022 Creation and deletion of elements \n\u2022 The section symbol shows the section programming language and if it is protected \n\u2022 View the element properties \n\u2022 Creation of user directions \n\u2022 Launching the different editors \n\u2022 Start the import/export function \nFunctional View \nThe project browser offers the following features in functional view: \n\u2022 Creation of functional modules", "The project browser offers the following features in functional view: \n\u2022 Creation of functional modules \n\u2022 Insertion of sections, animation tables etc. using Drag and Drop from the structural \nview. \n\u2022 Creation of sections \n\u2022 View the elements properties \n\u2022 Launching the different editors \n\u2022 The section symbols show the section programming language and other attributes. \n \n4.1.2 Identification Standards \n4.1.2.1 Project Name \nEvery PLC project in the PCS Upgrade Project will be configured using the site name within \nthe Unity Pro application hierarchy for the purpose of uniquely identifying software \napplications. This is independent of the chosen file naming standard. Naming conventions are \ndefined in PCS Naming Standards Document[28] \n4.1.2.2 Station Revision Management.", "defined in PCS Naming Standards Document[28] \n4.1.2.2 Station Revision Management. \nThe second section of every PLC application will be a ST type. This section will not be a \nfunctional section but rather, will be used as a comment space for Station Revision tracking. \nChanges made to the application are to be commented on with Date/Time and details of the \nchange.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 66 of 86 \n \nPage 66 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4.1.2.3 Remote Rack Labelling  \nRemote racks within the EIO software configuration are labelled in alignment with \nArchitecture drawings and Panel Labelling.  \n4.1.2.3.1 Panel Numbers are labelled as follows: \nPanel Identifier: =aaPPPxx \nLocation Identifier: +aaPPPxx \nwhere \naa = Station Number (e.g. CBK = 17) \nPPP = PLC for PLC Panel, MET for Metering Panel, VSD for VSD Panel, RR for Remote IO tier", "PPP = PLC for PLC Panel, MET for Metering Panel, VSD for VSD Panel, RR for Remote IO tier \nin remote rooms, RL for Remote IO cubicle/tier in LV Panel, RM for Remote IO cubicle in MV \nPanel \nxx = Unique No, integer from 1 to 9. \n \n4.1.2.3.2 PLC CPU Hot/Standby racks \nThe Host Standby Racks will be labelled 'PLCxy' \n Individual slots within the Host Standby Racks will be labelled: PLCxyz \n where \nx = PLC No, integer from 1 to 9 \ny= Rack drop no, alpha from A to Z. (There will only be two racks - A and B for Host Standby \nRacks)  \nz = Slot No, integer from 0 to 7 (8 slot backplanes are used). Slots are numbered \nsequentially, starting from zero. \n4.1.2.3.3 Remote IO racks \nRemote IO Racks will be labelled: Ruxyz \n where", "sequentially, starting from zero. \n4.1.2.3.3 Remote IO racks \nRemote IO Racks will be labelled: Ruxyz \n where \nu = P for PLC Panels, F for Metering Panels, L for LV Panels and M for MV Panels \nx = PLC No, integer from 1 to 9 \ny = Rack drop no, alpha from A to Z. Drops are labelled sequentially in each panel, starting \nfrom A. \nz = Slot No, integer from 0 to 7 (8 slot backplanes are used). Slots are numbered \nsequentially, starting from zero.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 67 of 86 \n \nPage 67 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 4-2: Remote Rack configuration and labelling \n \n4.1.3 Software Naming Standard \nRefer to Software Naming standards document [28] \n4.1.4 Unity Pro Programming Languages \nUnity Pro supports all of the IEC61131-3 application languages for the M580 HSBY CPUs. \nEach language has its place and strengths. As such, not all languages will be used with on \nthe PCS Upgrade Project. All PLCs will be programmed using a combination of FBD, ST and", "the PCS Upgrade Project. All PLCs will be programmed using a combination of FBD, ST and \nSFC. The majority of code will implement FBD.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 68 of 86 \n \nPage 68 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nTable 4-1: M580 Supported Programming Languages \n4.1.4.1 Function Block Diagram \nFunction Block Diagram (FBD) is the chosen standard for programming of all PLCs. All \nsections within a PLC program will use on FBD with exception of Sequences and Hardcoded \nsettings. These use SFC and ST respectively. Smaller sequences could use Sequencing FBD \nand will be decided based on the requirements and prescription from the PLC Coding", "and will be decided based on the requirements and prescription from the PLC Coding \nStandards Document [29]. The FBD editor is used to provide a graphical programming \ninterface: \n \nFigure 4-2: Example of FBD representation \nThe objects of the FBD programming language help to divide a section into a number of:  \n\u2022 Elementary Functions (EFs) \n\u2022 Elementary Function Blocks (EFBs) \n\u2022 Derived Function Blocks (DFBs) \n\u2022 Procedures", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 69 of 86 \n \nPage 69 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n\u2022 Subroutine calls \n\u2022 Jumps \n\u2022 Links \n\u2022 Actual Parameters \n\u2022 Text Objects to comment the logic \n \n4.1.4.2 Structured Text \nThe Structured Text language is also used within the PCS Upgrade Project. The use of this \nlanguage is generally limited to within sections of DFBs however, Hardcoded limits, settings \nor parameters that do not change frequently will also use the ST language at MAST task", "or parameters that do not change frequently will also use the ST language at MAST task \nsection level. Structured Text is especially used for mathematical calculation and for \nprocessing repetitive instructions (Loops).  \n \n  \n \nFigure 4-3: ST representation \n \n4.1.4.3 Sequential Function Chart (SFC) \nSFC will be used to control all sequences required in the PCS Upgrade Project. Sequences are \ntypically initiated/commanded from the SCADA or instances within code. \nSequential control is created in Unity Pro from SFC sections (top level), transition sections \nand action sections. \nThe SFC sections are only allowed in the Master Task of the project. SFC sections cannot be \nused in other tasks or DFBs.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 70 of 86 \n \nPage 70 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 4-4: SFC representation \n4.1.5 Software Coding Standards \nAn object-oriented methodology is used in the PLC software standard allowing flexible sizing \nof the system (from smaller booster pumps sites to larger delivery stations), reduced fault \nfinding time and improved ease of device addition. \nFunction blocks are designed in a manner that the functions they implement are cumulative.", "Function blocks are designed in a manner that the functions they implement are cumulative. \nThis way, specific \u2018optional service\u2019 functionality can be added on to many \u2018core service\u2019 \nfunctions. \nFor example, three function blocks are connected to each other to provide the necessary \nfunctions to set up an on-off motor with interlocking and maintenance. A \u201cControl\u201d block \n(Core service) provides on-off motor functionality. An \u201cInterlock\u201d block (optional service) can \nbe integrated to achieve interlocking functionality. In addition a \u201cDevice Maintenance\u201d block \n(optional service) can be integrated to add maintenance functionality (number of operation \nand run hours). A Valve \u201cControl\u201d block (Core service) could also achieve interlocking and \nmaintenance properties using this approach.", "maintenance properties using this approach. \n4.1.6 Derived Function Blocks \nA Derived Function Block(DFB) is a type of function block that is defined by the user. TPL DFB \nblocks are developed using the following languages: \n\u2022 Function Block Diagram (FBD) \n\u2022 Structured Text (ST)", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 71 of 86 \n \nPage 71 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nThe use of DFB types in application code makes it possible to: \n\u2022 Simplify the design and entry of the of program \n\u2022 Make the program easier to read \n\u2022 Make it easier to debug \n\u2022 Reduce the amount of code generated \n\u2022 Test and validate functionality \n\u2022 Reuse proven functionality throughout code \nControl Modules as described in the PCS Control Module Specification [15] make use of DBFs.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 72 of 86 \n \nPage 72 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n4.1.6.1 Derived Function block construction \nAll Derived function blocks are constructed in a similar format. Based on the functionality of \nthe block, the process sections could vary slightly.  \nSection Name Language Description \nRevision ST \nSection used to track revision \ncontrol of the block. In addition to \nproviding a text space to document \nrevision history, an output pin of \nString type is used to display the \nrevision number when connected to \nthe PLC.", "revision history, an output pin of \nString type is used to display the \nrevision number when connected to \nthe PLC. \nUnpack FBD \nSection used to unpack data coming \nin to the block via the SCADA DDT or \nother DDT  \nInput_map ST \nSection used to map and route \nbetween physical input image \ncoming in to the block, with \ninternally simulated feedback \nsignals.  \nProcess FBD \nSection(s) to implement the specific \nfunction of this block. All code needs \nto be put in to one section. Multiple \nsections could be used to fulfil a \nprocess function. \nStatus FBD Section used to manage statuses \ngenerated by the block \nSimulation ST/FBD \nSection used to perform a \nsimulation of behaviour. Typically \nfield inputs are substituted with \nsimulated field inputs such that the", "simulation of behaviour. Typically \nfield inputs are substituted with \nsimulated field inputs such that the \nProcess code is executed as if in the \nfield. \nPack FBD \nSection is used to pack status \ninformation to SCADA DDT and \ninformation DDT. Outputs are also \ndriven in this part of code. \nTable 4-5: Typical DFB construction", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 73 of 86 \n \nPage 73 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 4-6: Example DFB construction \n \nNote: All DFBs which are placed in simulation mode will have the Input map selected to use \ninternal simulated feedbacks (and not Field IO). This is not true with outputs, i.e. ALL output \nfunctions will be driven as per DFB Block function. It is therefore imperative to ensure that \nNO DFB is placed in simulation mode on ANY active plant (e.g. Valve open/close outputs will", "NO DFB is placed in simulation mode on ANY active plant (e.g. Valve open/close outputs will \nbe driven if a valve block is in simulation mode with simulated feedback). This is the reason \nthe Sim_En (Used to enable simulation mode) is placed as a Pin at the bottom of the DFBs. It \ncan be seen at a glance that this Pin should have system variable: sys.Simulation_Enabled \nwhich is RED (Logic Low).  \nSimulation Enable/Disable is applied to all blocks that support simulation. This originates from \ndfb_Sys_01. \n \nFigure 4-7: System Bits \u2013 Simulation Disabled on Active Plant \n \n \nFigure 4-8: Example of Simulation forced Off on Active Plant", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 74 of 86 \n \nPage 74 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4.1.6.2 Function Block Interface \nThe Derived Function blocks for TPL provide an interface that allows them to be configured, \nmonitored and controlled from the SCADA system (Continuous and/or sequential control). \nThe following interfaces are provided: \n\u2022 Basic Configuration \n\u2022 Continuous Control \n\u2022 Sequential Control \n\u2022 States and Monitoring \nBasic Configuration \nDFB input pins are usually connected to static data and recognized in engineering time (for", "Basic Configuration \nDFB input pins are usually connected to static data and recognized in engineering time (for \nexample, input channel range or limit switch enabling on an on-off device.) These are \ndeemed fixed/hardcoded settings. \nContinuous Control \nDFB input and output pins: \n\u2022 Allows receiving commands from other blocks or SCADA \n\u2022 Provide block status to other blocks to enable functions, detect events (example: \nHigh-level), interlocking, configure limits and parameters etc. \nSequential Control \nSC public and structured variables publishes the block status and allows its control from the \ncontrol sequences. \nStates and Monitoring (DDT) \nDepending on their types, the blocks feature up to 2 input/output pins that need to be", "States and Monitoring (DDT) \nDepending on their types, the blocks feature up to 2 input/output pins that need to be \nconnected to variables used to pass data to other blocks. In addition, these variables allow \nthe commands and parameters received from the SCADA to be managed.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 75 of 86 \n \nPage 75 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 4-9: Modularity of DFBs \n4.1.7 Derived Data Types \nA Derived Data Type is a set/structure of elements, typically standard data types such as \nREAL, INT, BOOL etc, that are constructed by a user in a logical structure. This is used to \ngroup data relating to (e.g. a Valve or DOL Motor Block). \nAside from just logical grouping of information pertaining to Control Modules, DDTs are used \nto pass data between blocks.", "to pass data between blocks.  \nBelow is an example of a DDT comprising multiple different primary data types: \n \nFigure 4-10: Example of DDT Structure", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 76 of 86 \n \nPage 76 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \n4.1.8 Libraries \n4.1.8.1 Unity Pro Function Block Libraries \nThe table below details all libraries and common functions that will be used in the PCS \nUpgrade Project. By default, all of these libraries are installed with Unity Pro. The library \nserves as a logical grouping of related functions.  \n \nLibrary Function Description \nBase Library     \n  ABS Absolute \n  ADD Mathematical Addition \n  AND Boolean AND function \n  AVE Mathematical Average operation", "ABS Absolute \n  ADD Mathematical Addition \n  AND Boolean AND function \n  AVE Mathematical Average operation \n  BIT_TO_WORD Convert 16 Boolean values to Word (Word Packing) \n  BYTE_AS_WORD Type conversion - Lower and Upper byte to word \nconversion \n  CTD Down Counter \n  CTU Up Counter \n  DINT_TO_INT Type conversion \u2013 Double (32Bit) Integer to \nSingle(16Bit) Integer \n  DINT_TO_REAL Type conversion \u2013 Double (32Bit) Integer to Floating \nPoint IEEE 754 Standard \n  DIV Mathematical Division operation \n  EQ Comparison - Equal \n  EXTRACT Function that copies a source table to a destination \ntable \n  F_TRIG Boolean Edge detection on the Falling Edge \n  GE Comparison - Greater Than or Equal \n  GT Comparison - Greater Than \n  INT_TO_DINT Type conversion - Single(16Bit) Integer to Double (32", "GT Comparison - Greater Than \n  INT_TO_DINT Type conversion - Single(16Bit) Integer to Double (32 \nBit) Integer \n  INT_TO_REAL Type conversion - Single(16Bit) Integer to Floating \nPoint IEEE 754 Standard \n  LE Comparison - Less Than or Equal \n  LIMIT Function to pass a value through provided it is within \na Lower and Upper boundary(Limit) \n  LT Comparison - Less Than \n  MAX Function returns the largest value (of a group of \ninputs) to the output \n  MOVE Function assigns the input value to the output \n  MUL Mathematical Multiplication operation", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 77 of 86 \n \nPage 77 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n  NE Comparison - Not Equal \n  OR Boolean OR function \n  PID Function carries out PID type regulation on an integer \ntype \n  R_TRIG Boolean Edge detection on the Rising Edge \n  REAL_TO_DINT Type conversion - Floating Point IEEE 754 to \nDouble(32Bit) Integer \n  REAL_TO_INT Type conversion - Floating Point IEEE 754 to \nSingle(16Bit) Integer \n  RS Reset/Set latch with Reset Dominant \n  SEL Function used for Binary Selection between two \nvalues", "RS Reset/Set latch with Reset Dominant \n  SEL Function used for Binary Selection between two \nvalues \n  SUB Mathematical Subtraction operation \n  TOF Off delay timer \n  TON On delay timer \n  TP Function used to generate a pulse with a given \nduration \n  WORD_TO_BIT Convert Word to 16 Boolean values (Bit Stripping) \n      \nCommunication \nLibrary \n    \n  ADDM Function converts a string to an address that other \nfunction blocks can use to read/write data \n  READ_VAR Function used to read Modbus registers from a \nsource defined by ADDM block \n  Write_VAR Function used to write Modbus registers to a \ndestination defined by ADDM block \n      \nCont_Ctl Library     \n  HYST Function to apply a Hysteresis \n  LAG_FILTER This function represents a delay element of 1st order", "HYST Function to apply a Hysteresis \n  LAG_FILTER This function represents a delay element of 1st order \n  RAMP Function applies a constant change from an initial \nvalue to a target value \n  SCALING Function used to change the value range of numerical \nvariables \n \nTable 4-11: PCS Upgrade Project Used Libraries \n4.1.8.2 Derived Libraries \nDerived libraries are a collection of specific functions(DFBs) that are created for the project. \nThese libraries are fully open for monitoring and modification. Care should be exercised when \nmaking any modification to derived libraries as the implication of a change to a library will \nextend to all used instances of that library. For this reason, it is advisable to keep them in a", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 78 of 86 \n \nPage 78 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nlocked format with READ-ONLY attributes. The password should be kept by Senior MC&I \nPersonnel. \nFurther details of Derived Libraries are described in the PCS Control Module Specification \nDocument. \nPSX GPL(General Purpose Library) for Unity Pro \nThe GLP Library for Unity Pro software provides function blocks (EFBs and DFBs) that are \npre-configured and tested by Schneider Electric. These blocks are designed for automating a \nlarge variety of processes.", "large variety of processes. \nTabulated below are possible function to be used on the PCS Upgrade Project. The following \nfunctionality has been tested by Schneider Electric and could reduce the development time in \nproviding for these specific functions. \n \nFamily Function Description \nSignal Processing     \n  AISignalCond1 Analogue input signal conditioning \n  AISignalCond1 Analogue output signal conditioning \n  CounterSignalCondUInt Counter Signal conditioning \n  DISignalCond1 Digital input signal conditioning \n  DOSIGNALCOND Digital output signal conditioning \n  ACALC Analogue calculations (ROC) \n  AALARM Analogue limit levels \n  AINPUT1 Configurable-range analogue inputs \n  TOTAL Totalizer \n      \nOn/Off device \ncontrol     \n  DEVCTL On-off device control", "TOTAL Totalizer \n      \nOn/Off device \ncontrol     \n  DEVCTL On-off device control \n  DEVMNT On-off device maintenance \nProcess Control ARAMP Ramp functionality \n  PIDCTL PID controller \n      \nSequential control SEQCTL1 Advanced sequential control \n  SEQPARxx Sequential parameter management \n      \nAuxiliary functions ASELECT Analogue signal selector \n  CONDSUM Summary of conditions \n  CONDSUM1 Interlock condition summary \nTable 4-12: GPL \u2013 Functions to be used", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 79 of 86 \n \nPage 79 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4.1.8.3 Management of Libraries \nDuring the development phase, a User project will be created for the development and \nmanagement of the specific Library of DFBs. This will be a common and multi-owner project \nwithin EOH. At any given time, a single block will have only one owner who will be \nresponsible for creating/modifying/updating and documenting those blocks.  \nAll of the blocks created during the development and testing phase will reside in this project.", "All of the blocks created during the development and testing phase will reside in this project. \nA family of library blocks will then be created for import into the Site instances of Unity Pro.  \n4.1.9 Security \nUnity Pro security is set up on the PC on which Unity is installed and not the project. A log file \ncan be used to keep a chronological record of the various operations carried out by users \nwith access to the software. \nSuper user (Supervisor) \nThe super user is the only person with rights to manage access security for the software. The \nsuper user defines the list including the names of users who can access the software and \ntheir access rights. \nDuring installation of Unity Pro, only the super user can access the security configuration", "their access rights. \nDuring installation of Unity Pro, only the super user can access the security configuration \nwithout any limitation of rights (without a password). NOTE: The user name reserved for the \nsuper use is Supervisor \nThe super user has the following rights: \n\u2022 Create or modify the user list \n\u2022 Create or modify user profiles \n\u2022 Disable one or more users \n\u2022 Modify the rules for software access security \n\u2022 Modify his/her password \n\u2022 Reset user passwords \n \n \nUsers \nSoftware users are defined in the list of users by the super user, if Unity Pro Access Security \nis active. If tour name is in the user list, you can access a software instance by entering your \nname (exactly as it appears on the list) and your password. \nA user has the following rights:", "name (exactly as it appears on the list) and your password. \nA user has the following rights: \n\u2022 Access the rights defined by his/her user profile in read mode \n\u2022 Modify his/her password \nUser Profile", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 80 of 86 \n \nPage 80 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nThe profile for a user comprises all of his/her access rights. It is defined by a name (2 to 16 \ncharacters), an optional comment (maximum of 256 characters) and a list of access rights. \nUnity Pro provides 5 preconfigured user profiles that cannot be modified. To complete this \nlist, the super user can create all the personalised profiles that he/she requires. \n \nProfile Description \nReadOnly \nThe user can only access the project in read", "Profile Description \nReadOnly \nThe user can only access the project in read \nmode, except for the PLC address, which can be \nmodified. He/she can also copy or download \nthe project. \nOperate \nThe user has the same rights as with a \nReadOnly profile, with the added possibility of \nmodifying execution parameters (constants, \ninitial values, task cycle times, etc.) \nAdjust \nThe user has the same rights as with an \nOperate profile, with the added possibility of \nuploading a project (transfer to the PLC) and \nmodifying the PLC operating mode (Run, Stop, \n\u2026) \nDebug \nThe user has the same rights as with and Adjust \nprofile with the added possibility of using the \ndebugging tools. \nProgram \nThe user has the same rights as with a Debug \nprofile, with the added possibility of modifying", "Program \nThe user has the same rights as with a Debug \nprofile, with the added possibility of modifying \nthe program. \nDisabled User cannot access the project. \nTable 4-13: User Rights", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 81 of 86 \n \nPage 81 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4.2 Unity Simulator \nUnity Pro has a built in PLC Simulator which simulates (emulates) the logic execution \nbehaviour of a PLC. This allows the ability to connect, download and run user applications in \nthe same runtime/animated environment as when connected to a real PLC. Saved State RAM \n(which contain setpoint, logic states etc) can be also be transferred to and from the simulator \nas with a real PLC", "(which contain setpoint, logic states etc) can be also be transferred to and from the simulator \nas with a real PLC \nThe primary purpose of the simulator is to debug Unity applications, however due to the \nnature and requirement of the HMI Trainer, the PLC Simulator will be a convenient self-\ncontained solution.  \n \nFigure 4-14: Unity Pro Simulator \n \nNote: The simulator does not provide simulation for any PLC initiated explicit communication \nto external slave devices. The simulator is unable to connect to IO (local or remote). No inter-\nPLC communication is possible with the simulator. The Simulator however is able to serve \nSCADA client requests, therefore is able to perform full SCADA interactions. \n4.2.1 Software Testing", "SCADA client requests, therefore is able to perform full SCADA interactions. \n4.2.1 Software Testing \nThe Unity Simulator will be used by the Development Software Engineers for general \nsoftware testing during development. Once the given piece of software is complete, it will \nthen be thoroughly tested by another Software Engineer on a real PLC as per pre-defined and \napproved test procedures. Control modules and DFB functions are easily simulated using \nanimation tables to \u2018force\u2019 inputs and setpoints from the Unity Pro environment. \nFor larger, full scale simulation testing, visual testing interfaces (Analogue/parameter \nsetpoints, digital writes etc) will be built in OASyS DNA HMI . This toolkit has the ability to", "setpoints, digital writes etc) will be built in OASyS DNA HMI . This toolkit has the ability to \nconnect to the PLC via Modbus TCP will be used to provide a graphic interface for testing and \nsupervision purposes. \n4.3 Unity Loader \nUnity Loader is a utility software to exchange data with Unity Modicon PLCs. This software \ndoes not require a licence and can be used with all Unity enabled PLCs. Unity Loader offers \nthe following features:", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 82 of 86 \n \nPage 82 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n\u2022 Firmware download to CPUs. \n\u2022 Firmware download to X80 modules that embed a firmware (Ethernet, analogue \nHART, motion). \n\u2022 Download / upload of project information \no Program \no Variables \no User files on the memory card (if installed) \n4.4 Version Control \nThe following sections list the tools available for version control. The application version and \nlibrary version number will be transferred to the SCADA system and displayed on the", "library version number will be transferred to the SCADA system and displayed on the \ndiagnostics page. Refer to the Software Configuration Management Plan for project specific \nversion control. \n4.4.1 Application Version \nThe standard version control provided by Unity Pro is utilised in tracking application versions. \nUnity Pro structures application version as: Major.Minor.Build. A time stamp is also provided \nof the last Build.  \n \n \nFigure 4-15: Application Version \nThe application version information along with other information is available in user code \nwhich will be passed to the SCADA system.", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 83 of 86 \n \nPage 83 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 4-16: Application Version for SCADA display", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 84 of 86 \n \nPage 84 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \nApplication versions prompted when a Download or Upload is commanded. \n \nFigure 4-17: Version Compare \n4.4.2 Library Version \nThe Standard library version provided by Unity Pro is aligned with Version of Software being \nused. Unity Version 13 and as such, Libset V13.0 is used on the Crude PCS Upgrade Project. \nThese versions and control of these versions are done by Schneider Electric.", "These versions and control of these versions are done by Schneider Electric.  \nAt an application level, it is possible to remain on a given library set. Therefore it is possible \nto upgrade a version of Unity Pro, and keep the previous version of Library. \n \nFigure 4-18: Library Version", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 85 of 86 \n \nPage 85 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n4.4.3 Standard Block Versions \nBelow is an example of a EFB out of the library: Libset V12.0 \n \nFigure 4-19: Standard Block Version \n \n4.4.4 Derived Function Block Version \nDBFs, being user created, are managed by the development team of EOH and Maintained by \nthe TPL team. The first section of code within all DFBs is a ST section called Revision. The \nTPL library version number will be incremented on any change to DFBs within that library.", "TPL library version number will be incremented on any change to DFBs within that library. \nThe revision control of therefore documented locally within the block. \n \nFigure 4-20: DFB Version", "TRANSNET PIPELINES  \n \nDocument Name Document Number Revision Number Page \nPLC Functional Design Specification PRJ: E354086-00000-271-078-0003 \nTPL:  \n02 \n \nPage 86 of 86 \n \nPage 86 of 86 Originator: EOH/AVEVA Original date: 12-07-2018 \nCopyright \u00a9 Transnet Pipelines. All rights reserved, including rights to amendments. \n \nFigure 4-21: DFB Version management \n \n4.4.5 Unity Dif Software Tool \nUnity Dif is a comparison software the compares the Unity Pro project files and displays the \ndifferences graphically with a similar look and feed of Unity Pro. This enables the user to \nunderstand the project differences easily. The result of the comparison is displayed in the \nUnity Dif main window, which can be printed/saved as *.pdf or *.txt format.", "Unity Dif main window, which can be printed/saved as *.pdf or *.txt format. \nThe software provides differences of the following sections after comparison: \n\u2022 PLC configuration (Hardware and network) \n\u2022 Derived Data Types \n\u2022 Derived FB Types \n\u2022 Variables and FB Instance \n\u2022 Motion \n\u2022 Communication \n\u2022 Programs \n\u2022 Animation Tables \n\u2022 Operator Screens \n\u2022 DTM Catalogue \n\u2022 Project Settings \n \nThe use of Unity DIF adds value from a maintenance perspective, providing TPL personnel to \nanalyse if/and what changes have been made to specific site applications."]